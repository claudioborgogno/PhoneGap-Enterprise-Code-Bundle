!function(e,t){var n,r,t,i=e.define;!function(e){function i(e,t){var n,r,i,o,a,s,l,u,c,f,d=t&&t.split("/"),p=g.map,m=p&&p["*"]||{};if(e&&"."===e.charAt(0)&&t){for(d=d.slice(0,d.length-1),e=d.concat(e.split("/")),u=0;u<e.length;u+=1)if(f=e[u],"."===f)e.splice(u,1),u-=1;else if(".."===f){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((d||m)&&p){for(n=e.split("/"),u=n.length;u>0;u-=1){if(r=n.slice(0,u).join("/"),d)for(c=d.length;c>0;c-=1)if(i=p[d.slice(0,c).join("/")],i&&(i=i[r])){o=i,a=u;break}if(o)break;!s&&m&&m[r]&&(s=m[r],l=u)}!o&&s&&(o=s,a=l),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function o(t,n){return function(){return d.apply(e,b.call(arguments,0).concat([t,n]))}}function a(e){return function(t){return i(t,e)}}function s(e){return function(t){y[e]=t}}function l(t){if(v.hasOwnProperty(t)){var n=v[t];delete v[t],h[t]=!0,f.apply(e,n)}if(!y.hasOwnProperty(t)&&!h.hasOwnProperty(t))throw new Error("No "+t);return y[t]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function c(e){return function(){return g&&g.config&&g.config[e]||{}}}var f,d,p,m,y={},v={},g={},h={},b=[].slice;p=function(e,t){var n,r=u(e),o=r[0];return e=r[1],o&&(o=i(o,t),n=l(o)),o?e=n&&n.normalize?n.normalize(e,a(t)):i(e,t):(e=i(e,t),r=u(e),o=r[0],e=r[1],o&&(n=l(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},m={require:function(e){return o(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:c(e)}}},f=function(t,n,r,i){var a,u,c,f,d,g,b=[];if(i=i||t,"function"==typeof r){for(n=!n.length&&r.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(f=p(n[d],i),u=f.f,"require"===u)b[d]=m.require(t);else if("exports"===u)b[d]=m.exports(t),g=!0;else if("module"===u)a=b[d]=m.module(t);else if(y.hasOwnProperty(u)||v.hasOwnProperty(u)||h.hasOwnProperty(u))b[d]=l(u);else{if(!f.p)throw new Error(t+" missing "+u);f.p.load(f.n,o(i,!0),s(u),{}),b[d]=y[u]}c=r.apply(y[t],b),t&&(a&&a.exports!==e&&a.exports!==y[t]?y[t]=a.exports:c===e&&g||(y[t]=c))}else t&&(y[t]=r)},n=r=d=function(t,n,r,i,o){return"string"==typeof t?m[t]?m[t](n):l(p(t,n).f):(t.splice||(g=t,n.splice?(t=n,n=r,r=null):t=e),n=n||function(){},"function"==typeof r&&(r=i,i=o),i?f(e,t,n,r):setTimeout(function(){f(e,t,n,r)},15),d)},d.config=function(e){return g=e,d},t=function(e,t,n){t.splice||(n=t,t=[]),v[e]=[e,t,n]},t.amd={jQuery:!0}}(),t("../vendor/almond",function(){}),function(e,t){var n,i,o,a,s,l,u,c,f,d,p,m,y,v,g,h,b,_,w,C,E,x,T,O;n=function(e){return new n.prototype.init(e)},"undefined"!=typeof r&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=n:e.Globalize=n,n.cultures={},n.prototype={constructor:n,init:function(e){return this.cultures=n.cultures,this.cultureSelector=e,this}},n.prototype.init.prototype=n.prototype,n.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures["default"].calendar=n.cultures["default"].calendars.standard,n.cultures.en=n.cultures["default"],n.cultureSelector="en",i=/^0x[a-f0-9]+$/i,o=/^[+\-]?infinity$/i,a=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,s=/^\s+|\s+$/g,l=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},u=function(e,t){return e.substr(e.length-t.length)===t},c=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,m=!1;for("boolean"==typeof s&&(m=s,s=arguments[1]||{},l=2),"object"==typeof s||d(s)||(s={});u>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(m&&i&&(p(i)||(o=f(i)))?(o?(o=!1,a=r&&f(r)?r:[]):a=r&&p(r)?r:{},s[n]=c(m,a,i)):i!==t&&(s[n]=i));return s},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d=function(e){return"[object Function]"===Object.prototype.toString.call(e)},p=function(e){return"[object Object]"===Object.prototype.toString.call(e)},m=function(e,t){return 0===e.indexOf(t)},y=function(e){return(e+"").replace(s,"")},v=function(e){return isNaN(e)?0/0:Math[0>e?"ceil":"floor"](e)},g=function(e,t,n){var r;for(r=e.length;t>r;r+=1)e=n?"0"+e:e+"0";return e},h=function(e,t){for(var n=0,r=!1,i=0,o=e.length;o>i;i++){var a=e.charAt(i);switch(a){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(a),r=!1}}return n},b=function(e,t){t=t||"F";var n,r=e.patterns,i=t.length;if(1===i){if(n=r[t],!n)throw"Invalid date format string '"+t+"'.";t=n}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},_=function(e,t,n){function r(e,t){var n,r=e+"";return t>1&&r.length<t?(n=g[t-2]+r,n.substr(n.length-t,t)):n=r}function i(){return m||y?m:(m=w.test(t),y=!0,m)}function o(e,t){if(v)return v[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var a,s=n.calendar,l=s.convert;if(!t||!t.length||"i"===t){if(n&&n.name.length)if(l)a=_(e,s.patterns.F,n);else{var u=new Date(e.getTime()),c=E(e,s.eras);u.setFullYear(x(e,s,c)),a=u.toLocaleString()}else a=e.toString();return a}var f=s.eras,d="s"===t;t=b(s,t),a=[];var p,m,y,v,g=["0","00","000"],w=/([^d]|^)(d|dd)([^d]|$)/g,T=0,O=C();for(!d&&l&&(v=l.fromGregorian(e));;){var P=O.lastIndex,k=O.exec(t),L=t.slice(P,k?k.index:t.length);if(T+=h(L,a),!k)break;if(T%2)a.push(k[0]);else{var A=k[0],S=A.length;switch(A){case"ddd":case"dddd":var N=3===S?s.days.namesAbbr:s.days.names;a.push(N[e.getDay()]);break;case"d":case"dd":m=!0,a.push(r(o(e,2),S));break;case"MMM":case"MMMM":var j=o(e,1);a.push(s.monthsGenitive&&i()?s.monthsGenitive[3===S?"namesAbbr":"names"][j]:s.months[3===S?"namesAbbr":"names"][j]);break;case"M":case"MM":a.push(r(o(e,1)+1,S));break;case"y":case"yy":case"yyyy":j=v?v[0]:x(e,s,E(e,f),d),4>S&&(j%=100),a.push(r(j,S));break;case"h":case"hh":p=e.getHours()%12,0===p&&(p=12),a.push(r(p,S));break;case"H":case"HH":a.push(r(e.getHours(),S));break;case"m":case"mm":a.push(r(e.getMinutes(),S));break;case"s":case"ss":a.push(r(e.getSeconds(),S));break;case"t":case"tt":j=e.getHours()<12?s.AM?s.AM[0]:" ":s.PM?s.PM[0]:" ",a.push(1===S?j.charAt(0):j);break;case"f":case"ff":case"fff":a.push(r(e.getMilliseconds(),3).substr(0,S));break;case"z":case"zz":p=e.getTimezoneOffset()/60,a.push((0>=p?"+":"-")+r(Math.floor(Math.abs(p)),S));break;case"zzz":p=e.getTimezoneOffset()/60,a.push((0>=p?"+":"-")+r(Math.floor(Math.abs(p)),2)+":"+r(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":s.eras&&a.push(s.eras[E(e,f)].name);break;case"/":a.push(s["/"]);break;default:throw"Invalid date format pattern '"+A+"'."}}}return a.join("")},function(){var e;e=function(e,t,n){var r=n.groupSizes,i=r[0],o=1,a=Math.pow(10,t),s=Math.round(e*a)/a;isFinite(s)||(s=e),e=s;var l=e+"",u="",c=l.split(/e/i),f=c.length>1?parseInt(c[1],10):0;l=c[0],c=l.split("."),l=c[0],u=c.length>1?c[1]:"";f>0?(u=g(u,f,!1),l+=u.slice(0,f),u=u.substr(f)):0>f&&(f=-f,l=g(l,f+1,!0),u=l.slice(-f,l.length)+u,l=l.slice(0,-f)),u=t>0?n["."]+(u.length>t?u.slice(0,t):g(u,t)):"";for(var d=l.length-1,p=n[","],m="";d>=0;){if(0===i||i>d)return l.slice(0,d+1)+(m.length?p+m+u:u);m=l.slice(d-i+1,d+1)+(m.length?p+m:""),d-=i,o<r.length&&(i=r[o],o++)}return l.slice(0,d+1)+p+m+u},w=function(t,n,r){if(!isFinite(t))return 1/0===t?r.numberFormat.positiveInfinity:t===-1/0?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!n||"i"===n)return r.name.length?t.toLocaleString():t.toString();n=n||"D";var i,o=r.numberFormat,a=Math.abs(t),s=-1;n.length>1&&(s=parseInt(n.slice(1),10));var l,u=n.charAt(0).toUpperCase();switch(u){case"D":i="n",a=v(a),-1!==s&&(a=g(""+a,s,!0)),0>t&&(a="-"+a);break;case"N":l=o;case"C":l=l||o.currency;case"P":l=l||o.percent,i=0>t?l.pattern[0]:l.pattern[1]||"n",-1===s&&(s=l.decimals),a=e(a*("P"===u?100:1),s,l);break;default:throw"Bad number format specifier: "+u}for(var c=/n|\$|-|%/g,f="";;){var d=c.lastIndex,p=c.exec(i);if(f+=i.slice(d,p?p.index:i.length),!p)break;switch(p[0]){case"n":f+=a;break;case"$":f+=o.currency.symbol;break;case"-":/[1-9]/.test(a)&&(f+=o["-"]);break;case"%":f+=o.percent.symbol}}return f}}(),C=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},E=function(e,t){if(!t)return 0;for(var n,r=e.getTime(),i=0,o=t.length;o>i;i++)if(n=t[i].start,null===n||r>=n)return i;return 0},x=function(e,t,n,r){var i=e.getFullYear();return!r&&t.eras&&(i-=t.eras[n].offset),i},function(){var e,t,n,r,i,o,a;e=function(e,t){if(100>t){var n=new Date,r=E(n),i=x(n,e,r),o=e.twoDigitYearMax;o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o,t+=i-i%100,t>o&&(t-=100)}return t},t=function(e,t,n){var r,i=e.days,s=e._upperDays;return s||(e._upperDays=s=[a(i.names),a(i.namesAbbr),a(i.namesShort)]),t=o(t),n?(r=l(s[1],t),-1===r&&(r=l(s[2],t))):r=l(s[0],t),r},n=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,s=e._upperMonths,u=e._upperMonthsGen;s||(e._upperMonths=s=[a(r.names),a(r.namesAbbr)],e._upperMonthsGen=u=[a(i.names),a(i.namesAbbr)]),t=o(t);var c=l(n?s[1]:s[0],t);return 0>c&&(c=l(n?u[1]:u[0],t)),c},r=function(e,t){var n=e._parseRegExp;if(n){var r=n[t];if(r)return r}else e._parseRegExp=n={};for(var i,o=b(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],s=[],l=0,u=0,c=C();null!==(i=c.exec(o));){var f=o.slice(l,i.index);if(l=c.lastIndex,u+=h(f,a),u%2)a.push(i[0]);else{var d,p=i[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":d="(\\D+)";break;case"tt":case"t":d="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":d="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":d="(\\d\\d?)";break;case"zzz":d="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":d="([+-]?\\d\\d?)";break;case"/":d="(\\/)";break;default:throw"Invalid date format pattern '"+p+"'."}d&&a.push(d),s.push(i[0])}}h(o.slice(l),a),a.push("$");var y=a.join("").replace(/\s+/g,"\\s+"),v={regExp:y,groups:s};return n[t]=v},i=function(e,t,n){return t>e||e>n},o=function(e){return e.split(" ").join(" ").toUpperCase()},a=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t[n]=o(e[n]);return t},T=function(o,a,s){o=y(o);var l=s.calendar,u=r(l,a),c=new RegExp(u.regExp).exec(o);if(null===c)return null;for(var f,d=u.groups,p=null,v=null,g=null,h=null,b=null,_=0,w=0,C=0,E=0,x=null,T=!1,O=0,P=d.length;P>O;O++){var k=c[O+1];if(k){var L=d[O],A=L.length,S=parseInt(k,10);switch(L){case"dd":case"d":if(h=S,i(h,1,31))return null;break;case"MMM":case"MMMM":if(g=n(l,k,3===A),i(g,0,11))return null;break;case"M":case"MM":if(g=S-1,i(g,0,11))return null;break;case"y":case"yy":case"yyyy":if(v=4>A?e(l,S):S,i(v,0,9999))return null;break;case"h":case"hh":if(_=S,12===_&&(_=0),i(_,0,11))return null;break;case"H":case"HH":if(_=S,i(_,0,23))return null;break;case"m":case"mm":if(w=S,i(w,0,59))return null;break;case"s":case"ss":if(C=S,i(C,0,59))return null;break;case"tt":case"t":if(T=l.PM&&(k===l.PM[0]||k===l.PM[1]||k===l.PM[2]),!T&&(!l.AM||k!==l.AM[0]&&k!==l.AM[1]&&k!==l.AM[2]))return null;break;case"f":case"ff":case"fff":if(E=S*Math.pow(10,3-A),i(E,0,999))return null;break;case"ddd":case"dddd":if(b=t(l,k,3===A),i(b,0,6))return null;break;case"zzz":var N=k.split(/:/);if(2!==N.length)return null;if(f=parseInt(N[0],10),i(f,-12,13))return null;var j=parseInt(N[1],10);if(i(j,0,59))return null;x=60*f+(m(k,"-")?-j:j);break;case"z":case"zz":if(f=S,i(f,-12,13))return null;x=60*f;break;case"g":case"gg":var F=k;if(!F||!l.eras)return null;F=y(F.toLowerCase());for(var M=0,D=l.eras.length;D>M;M++)if(F===l.eras[M].name.toLowerCase()){p=M;break}if(null===p)return null}}}var I,R=new Date,V=l.convert;if(I=V?V.fromGregorian(R)[0]:R.getFullYear(),null===v?v=I:l.eras&&(v+=l.eras[p||0].offset),null===g&&(g=0),null===h&&(h=1),V){if(R=V.toGregorian(v,g,h),null===R)return null}else{if(R.setFullYear(v,g,h),R.getDate()!==h)return null;if(null!==b&&R.getDay()!==b)return null}if(T&&12>_&&(_+=12),R.setHours(_,w,C,E),null!==x){var B=R.getMinutes()-(x+R.getTimezoneOffset());R.setHours(R.getHours()+parseInt(B/60,10),B%60)}return R}}(),O=function(e,t,n){var r,i=t["-"],o=t["+"];switch(n){case"n -":i=" "+i,o=" "+o;case"n-":u(e,i)?r=["-",e.substr(0,e.length-i.length)]:u(e,o)&&(r=["+",e.substr(0,e.length-o.length)]);break;case"- n":i+=" ",o+=" ";case"-n":m(e,i)?r=["-",e.substr(i.length)]:m(e,o)&&(r=["+",e.substr(o.length)]);break;case"(n)":m(e,"(")&&u(e,")")&&(r=["-",e.substr(1,e.length-2)])}return r||["",e]},n.prototype.findClosestCulture=function(e){return n.findClosestCulture.call(this,e)},n.prototype.format=function(e,t,r){return n.format.call(this,e,t,r)},n.prototype.localize=function(e,t){return n.localize.call(this,e,t)},n.prototype.parseInt=function(e,t,r){return n.parseInt.call(this,e,t,r)},n.prototype.parseFloat=function(e,t,r){return n.parseFloat.call(this,e,t,r)},n.prototype.culture=function(e){return n.culture.call(this,e)},n.addCultureInfo=function(e,t,n){var r={},i=!1;"string"!=typeof e?(n=e,e=this.culture().name,r=this.cultures[e]):"string"!=typeof t?(n=t,i=null==this.cultures[e],r=this.cultures[e]||this.cultures["default"]):(i=!0,r=this.cultures[t]),this.cultures[e]=c(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},n.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if("string"==typeof e&&(e=e.split(",")),f(e)){var n,r,i=this.cultures,o=e,a=o.length,s=[];for(r=0;a>r;r++){e=y(o[r]);var l,u=e.split(";");n=y(u[0]),1===u.length?l=1:(e=y(u[1]),0===e.indexOf("q=")?(e=e.substr(2),l=parseFloat(e),l=isNaN(l)?0:l):l=1),s.push({lang:n,pri:l})}for(s.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),r=0;a>r;r++)if(n=s[r].lang,t=i[n])return t;for(r=0;a>r;r++)for(n=s[r].lang;;){var c=n.lastIndexOf("-");if(-1===c)break;if(n=n.substr(0,c),t=i[n])return t}for(r=0;a>r;r++){n=s[r].lang;for(var d in i){var p=i[d];if(p.language==n)return p}}}else if("object"==typeof e)return e;return t||null},n.format=function(e,t,n){var r=this.findClosestCulture(n);return e instanceof Date?e=_(e,t,r):"number"==typeof e&&(e=w(e,t,r)),e},n.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},n.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,o;if(t){if("string"==typeof t&&(t=[t]),t.length)for(var a=0,s=t.length;s>a;a++){var l=t[a];if(l&&(r=T(e,l,n)))break}}else{o=n.calendar.patterns;for(i in o)if(r=T(e,o[i],n))break}return r||null},n.parseInt=function(e,t,r){return v(n.parseFloat(e,t,r))},n.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var r=this.findClosestCulture(n),s=0/0,l=r.numberFormat;if(e.indexOf(r.numberFormat.currency.symbol)>-1&&(e=e.replace(r.numberFormat.currency.symbol,""),e=e.replace(r.numberFormat.currency["."],r.numberFormat["."])),e=y(e),o.test(e))s=parseFloat(e);else if(!t&&i.test(e))s=parseInt(e,16);else{var u=O(e,l,l.pattern[0]),c=u[0],f=u[1];""===c&&"(n)"!==l.pattern[0]&&(u=O(e,l,"(n)"),c=u[0],f=u[1]),""===c&&"-n"!==l.pattern[0]&&(u=O(e,l,"-n"),c=u[0],f=u[1]),c=c||"+";var d,p,m=f.indexOf("e");0>m&&(m=f.indexOf("E")),0>m?(p=f,d=null):(p=f.substr(0,m),d=f.substr(m+1));var v,g,h=l["."],b=p.indexOf(h);0>b?(v=p,g=null):(v=p.substr(0,b),g=p.substr(b+h.length));var _=l[","];v=v.split(_).join("");var w=_.replace(/\u00A0/g," ");_!==w&&(v=v.split(w).join(""));var C=c+v;if(null!==g&&(C+="."+g),null!==d){var E=O(d,l,"-n");C+="e"+(E[0]||"+")+E[1]}a.test(C)&&(s=parseFloat(C))}return s},n.culture=function(e){return"undefined"!=typeof e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures["default"]}}(this),t("globalize",function(){}),function(e){var t;t="undefined"!=typeof r&&"undefined"!=typeof exports&&"undefined"!=typeof module?r("globalize"):e.Globalize,t.addCultureInfo("en-US","default",{name:"en-US",englishName:"English (United States)"})}(this),t("cultures/globalize.culture.en-US",function(){}),t("yasmf/util/core",["globalize","cultures/globalize.culture.en-US"],function(){function e(e,t){e instanceof Node||"string"!=typeof e||(t=e,e=this);var n=window.getComputedStyle(e);return"undefined"!=typeof t?n.getPropertyValue(t):n}function t(e){return Array.prototype.splice.call(e,0)}function n(e,t){return"string"==typeof e&&(t=e,e=document),e.getElementById(t)}function r(e,t){return"string"==typeof e&&(t=e,e=document),e.querySelector(t)}function i(e,n){return"string"==typeof e&&(n=e,e=document),t(e.querySelectorAll(n))}function o(e){return r(this,e)}function a(e){return i(this,e)}function s(e){return n(this,e)}function l(e,t,n){if(void 0===e||null===e)return void 0!==n?n:e;e instanceof Object||(n=t,t=e,e=this);var r=e;return r=t.match(/([\w\$\\\-]+)/g).reduce(function(e,t){if(void 0===e||null===e)return e;try{return e[t]}catch(n){return void 0}},r),void 0!==r&&null!==r||void 0===n?r:n}function u(e,t){var n=e;return"undefined"==typeof t?n:(e.match(/\{([^\}]+)\}/g).forEach(function(e){var r=e.substr(1,e.length-2).trim();n=n.replace(e,l(t,r))}),n)}function c(){var e={},t=Array.prototype.slice.call(arguments,0);return t.forEach(function(t){Object.keys(t).forEach(function(n){var r=t[n];r instanceof Array?e[n]instanceof Array?e[n]=e[n].concat(r):e[n]instanceof Object&&e[n]instanceof Array||(e[n]=r):e[n]=r instanceof Object&&e[n]instanceof Object?c(e[n],r):r})}),e}function f(e,t){var n={validates:!0,message:""};return t instanceof Object?(Object.keys(t).forEach(function(r){if(n.validates){var i=t[r],o=e,a=void 0!==i.key?i.key:r,s=void 0!==i.title?i.title:r;if(a=a.replace("[",".").replace("]","").replace('"',""),a.split(".").forEach(function(e){try{o=o[e]}catch(t){o=void 0}}),(void 0!==i.required?i.required:!1)&&void 0===o)return n.validates=!1,void(n.message="Missing required value "+s);if(!(void 0!==i.nullable?i.nullable:!1)&&null===o)return n.validates=!1,void(n.message="Unexpected null in "+s);if(null!==o&&void 0!==o&&""!=o){switch(n.message="Type Mismatch; expected "+i.type+" not "+typeof o+" in "+s,i.type){case"float":case"number":if(void 0!==o){if(isNaN(parseFloat(o)))return void(n.validates=!1);if(o!=parseFloat(o))return void(n.validates=!1)}break;case"integer":if(void 0!==o){if(isNaN(parseInt(o,10)))return void(n.validates=!1);if(o!=parseInt(o,10))return void(n.validates=!1)}break;case"array":if(void 0!==o&&!(o instanceof Array))return void(n.validates=!1);break;case"date":if(o instanceof Object){if(!(o instanceof Date))return void(n.validates=!1);if(o instanceof Date&&isNaN(o.getTime()))return n.validates=!1,void(n.message="Invalid date in "+s)}else if("string"==typeof o){if(isNaN(new Date(o).getTime()))return n.validates=!1,void(n.message="Invalid date in "+s)}else if(!(o instanceof"object")&&void 0!==o)return void(n.validates=!1);break;case"object":if(!(o instanceof Object)&&void 0!==o)return void(n.validates=!1);break;case"*":break;default:if(typeof o!==i.type&&void 0!==o&&null!==o)return void(n.validates=!1)}if(n.message="",n.message="Value out of range "+o+" in "+s,"number"==typeof i.min&&o<i.min)return void(n.validates=!1);if("number"==typeof i.max&&o>i.max)return void(n.validates=!1);if(n.message="","number"==typeof i.minLength&&void 0!==o&&void 0!==o.length&&o.length<i.minLength||"number"==typeof i.maxLength&&void 0!==o&&void 0!==o.length&&o.length>i.maxLength)return n.message=""+s+" out of length range",void(n.validates=!1);if(i.enum instanceof Object&&void 0!==o&&0===i.enum.filter(function(e){return void 0!==e.value?e.value==o:e==o}).length)return n.message=""+s+" contains unexpected value "+o+" in "+s,void(n.validates=!1);if(i.pattern instanceof Object&&void 0!==o&&null===o.match(i.pattern))return n.message=""+s+" doesn't match pattern in "+s,void(n.validates=!1)}}}),n):n}var d=Node.prototype;[["$",o],["$$",a],["$1",o],["$id",s],["gsc",e],["gcs",e],["getComputedStyle",e]].forEach(function(e){"undefined"==typeof d[e[0]]&&(d[e[0]]=e[1])});var p={VERSION:"0.5.142",valueForKeyPath:l,interpolate:u,merge:c,validate:f,ge:s.bind(document),$id:s.bind(document),$:o.bind(document),$1:o.bind(document),qs:o.bind(document),$$:a.bind(document),gac:a.bind(document),qsa:a.bind(document),getComputedStyle:e,gcs:e,gsc:e,template:function(e,t,n){var r,i,o,a=["%","%"],s="toUpperCase";"undefined"!=typeof n&&("undefined"!=typeof n.brackets&&(a=n.brackets),"string"==typeof n.transform&&(s=n.transform)),r=e instanceof Node?e.innerHTML:e;for(i in t)if(t.hasOwnProperty(i))for(o=a[0],o+=""!==s?i[s]():i,o+=a[1];r.indexOf(o)>-1;)r=r.replace(o,t[i]);return r},underCordova:!1,executeWhenReady:function(e){var t=!1;document.addEventListener("deviceready",function(){t||(t=!0,p.underCordova=!0,"function"==typeof e&&e())},!1),setTimeout(function(){t||(t=!0,p.underCordova=!1,"function"==typeof e&&e())},1e3)},currentUserLocale:"",localizedText:{},normalizeLocale:function(e){var t=e;if(t.length<2)throw new Error("Fatal: invalid locale; not of the format la-RE.");var n=t.substr(0,2).toLowerCase(),r=t.substr(-2).toUpperCase();return t.length<4&&(r=""),t=""!==r?n+"-"+r:n},setGlobalizationLocale:function(e){var t=p.normalizeLocale(e);Globalize.culture(t)},addTranslation:function(e,t,n){var r=p,i=r.normalizeLocale(e).toUpperCase();"undefined"==typeof r.localizedText[i]&&(r.localizedText[i]={}),r.localizedText[i][t.toUpperCase()]=n},addTranslations:function(e){var t=p;for(var n in e)if(e.hasOwnProperty(n))for(var r in e[n])e[n].hasOwnProperty(r)&&t.addTranslation(r,n,e[n][r])},getUserLocale:function(){var e=p;if(e.currentUserLocale)return e.currentUserLocale;var t="unknown";"undefined"!=typeof device&&(t=device.platform);var n="en-US";if("Android"===t){var r=navigator.userAgent,i=r.match(/Android.*([a-zA-Z]{2}-[a-zA-Z]{2})/);i&&(n=i[1])}else n=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage;return e.currentUserLocale=e.normalizeLocale(n),e.currentUserLocale},getDeviceLocale:function(e){var t=p;return"undefined"!=typeof navigator.globalization&&"undefined"!=typeof navigator.globalization.getLocaleName?void navigator.globalization.getLocaleName(function(n){t.currentUserLocale=t.normalizeLocale(n.value),"function"==typeof e&&e()},function(){console.log("WARN: Couldn't get user locale from device."),"function"==typeof e&&e()}):void("function"==typeof e&&e())},lookupTranslation:function(e,t){var n=p,r=e.toUpperCase(),i=t||n.getUserLocale();return i=n.normalizeLocale(i).toUpperCase(),"undefined"!=typeof n.localizedText[i]&&"undefined"!=typeof n.localizedText[i][r]?n.localizedText[i][r]:void 0},localeOfLastResort:"en-US",languageOfLastResort:"en",T:function(e,t,n){var r,i=p,o=n||i.getUserLocale();return"undefined"==typeof(r=i.lookupTranslation(e,o))&&(o=o.substr(0,2),"undefined"==typeof(r=i.lookupTranslation(e,o))&&"undefined"==typeof(r=i.lookupTranslation(e,i.languageOfLastResort))&&"undefined"==typeof(r=i.lookupTranslation(e,i.localeOfLastResort))&&(r=e)),i.template(r,t)},N:function(e,t,n){var r=p,i="n"+("undefined"==typeof t?"0":t),o=n||r.getUserLocale();return r.setGlobalizationLocale(o),Globalize.format(e,i)},C:function(e,t,n){var r=p,i="c"+("undefined"==typeof t?"2":t),o=n||r.getUserLocale();return r.setGlobalizationLocale(o),Globalize.format(e,i)},PCT:function(e,t,n){var r=p,i="p"+("undefined"==typeof t?"2":t),o=n||r.getUserLocale();return r.setGlobalizationLocale(o),Globalize.format(e,i)},D:function(e,t,n){var r=p,i=t||"d",o=n||r.getUserLocale();return r.setGlobalizationLocale(o),Globalize.format(e,i)},format:function(e,t,n){var r=p,i=t,o=n||r.getUserLocale();return r.setGlobalizationLocale(o),Globalize.format(e,i)}};return p}),t("yasmf/util/datetime",[],function(){return{getUnixTime:function(){return(new Date).getTime()},PRECISION_SECONDS:1,PRECISION_MINUTES:2,PRECISION_HOURS:3,PRECISION_DAYS:4,PRECISION_WEEKS:5,PRECISION_YEARS:6,getPartsFromSeconds:function(e,t){for(var n=[0,0,0,0,0,0,0],r=[1,60,3600,86400,604800,31557600],i=t;i>0;i--)n[i-1]=1===i?e%r[i-1]:Math.floor(e%r[i-1]),n[i]=Math.floor(e/r[i-1]),e-=n[i]*r[i-1];return{fractions:n[0],seconds:n[1],minutes:n[2],hours:n[3],days:n[4],weeks:n[5],years:n[6]}}}}),t("yasmf/util/filename",[],function(){var e={version:"00.04.100",invalidCharacters:"/,\\,:,|,<,>,*,?,;,%".split(","),extensionSeparator:".",pathSeparator:"/",replacementCharacter:"-",makeValid:function(t){for(var n=e,r=t,i=0;i<n.invalidCharacters.length;i++)for(var o=0;r.indexOf(n.invalidCharacters[i])>-1&&o++<50;)r=r.replace(n.invalidCharacters[i],n.replacementCharacter);return r},getFilePart:function(t){var n=e,r=t.lastIndexOf(n.pathSeparator);return 0>r?t:t.substr(r+1,t.length-r)},getPathPart:function(t){var n=e,r=t.lastIndexOf(n.pathSeparator);return 0>r?"":t.substr(0,r+1)},getFileNamePart:function(t){var n=e,r=n.getFilePart(t),i=r.lastIndexOf(n.extensionSeparator);return 0>i?r:r.substr(0,i)},getFileExtensionPart:function(t){var n=e,r=n.getFilePart(t),i=r.lastIndexOf(n.extensionSeparator);return 0>i?"":r.substr(i+1,r.length-i-1)}};return e}),t("yasmf/util/misc",[],function(){return{makeFauxUUID:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)});return t}}}),t("yasmf/util/device",[],function(){var e={version:"0.5.100",platformOverride:!1,formFactorOverride:!1,platform:function(){if(e.platformOverride)return e.platformOverride.toLowerCase();if("undefined"==typeof device||!device.platform)return"iPad"===navigator.platform||"iPad Simulator"===navigator.platform||"iPhone"===navigator.platform||"iPhone Simulator"===navigator.platform||"iPod"===navigator.platform?"ios":navigator.userAgent.toLowerCase().indexOf("android")>-1?"android":navigator.platform.indexOf("Mac")>-1?"mac":navigator.platform.indexOf("Win")>-1?"windows":navigator.platform.indexOf("Linux")>-1?"linux":"unknown";var t=device.platform.toLowerCase();return(t.indexOf("ipad")>-1||t.indexOf("iphone")>-1)&&(t="ios"),t},formFactor:function(){if(e.formFactorOverride)return e.formFactorOverride.toLowerCase();if("iPad"===navigator.platform)return"tablet";if("iPhone"===navigator.platform||"iPhone Simulator"===navigator.platform)return"phone";var t=navigator.userAgent.toLowerCase();return t.indexOf("android")>-1?t.indexOf("mobile safari")>-1?"phone":t.indexOf("mobile safari")<0&&t.indexOf("safari")>-1?"tablet":Math.max(window.screen.width,window.screen.height)/window.devicePixelRatio>=900?"tablet":"phone":Math.max(window.screen.width,window.screen.height)>=900?"tablet":"phone"},isTablet:function(){return"tablet"===e.formFactor()},isPhone:function(){return"phone"===e.formFactor()},isPortrait:function(){return 0===window.orientation||180===window.orientation||window.location.href.indexOf("?portrait")>-1},isLandscape:function(){return window.location.href.indexOf("?landscape")>-1?!0:!e.isPortrait()},isRetina:function(){return window.devicePixelRatio>1},iPad:function(){return"ios"===e.platform()&&"tablet"===e.formFactor()},iPhone:function(){return"ios"===e.platform()&&"phone"===e.formFactor()},droidPhone:function(){return"android"===e.platform()&&"phone"===e.formFactor()},droidTablet:function(){return"android"===e.platform()&&"tablet"===e.formFactor()}};return e}),t("yasmf/util/object",[],function(){var e="BaseObject",t=function(){function n(e,t){var n,i=!1;"undefined"!=typeof t&&(n="undefined"!=typeof t.args?t.args:void 0,i="undefined"!=typeof t.lastOnly?t.lastOnly:!1),r._notificationListeners[e]||console.log(e+" has not been registered."),r._traceNotifications&&(r._notificationListeners[e]?console.log("Notifying "+r._notificationListeners[e].length+" listeners for "+e+" ( "+n+" ) "):console.log("Can't notify any explicit listeners for ",e,"but wildcards will fire."));var o=void 0!==r._notificationListeners[e]?r._notificationListeners[e]._useAsyncNotifications:!0,a=function(e,t,n){return function(){try{e.apply(r,[r,t,n].concat(arguments))}catch(i){console.log("WARNING",t,"experienced an uncaught error:",i)}}},s=void 0!==r._notificationListeners[e]?r._notificationListeners[e].slice():[];i&&s.length>1&&(s=[s.pop()]);var l,u=!1;for(var c in r._notificationListeners)if(r._notificationListeners.hasOwnProperty(c)&&(l=r._notificationListeners[c],u=!1,c.indexOf("*")>-1)){if("*"===c)u=!0;else if("*"===c.substr(0,1)&&c.substr(1)===e.substr(-1*(c.length-1)))u=!0;else if("*"===c.substr(-1,1)&&c.substr(0,c.length-1)===e.substr(0,c.length-1))u=!0;else{var f=c.indexOf("*");c.substr(0,f)===e.substr(0,f)&&c.substr(f+1)===e.substr(-1*(c.length-f-1))&&(u=!0)}u&&l.forEach(function(e){s.push(e)})}for(var d=0,p=s.length;p>d;d++)o?setTimeout(a(s[d],e,n),0):a(s[d],e,n)()}var r=this;return r._classHierarchy=[e],r.subclass=function(e){r._classHierarchy.push(e)},r.getClass=function(){return r._classHierarchy[r._classHierarchy.length-1]},Object.defineProperty(r,"class",{get:r.getClass,configurable:!1}),r.getSuperClassOfClass=function(e){var t=e||r.class,n=r._classHierarchy.indexOf(t);return n>-1?r._classHierarchy[n-1]:null},Object.defineProperty(r,"superClass",{get:r.getSuperClassOfClass,configurable:!1}),r._super={},r.overrideSuper=function(e,t,n){var i=r.getSuperClassOfClass(e);r._super[i]||(r._super[i]={}),r._super[i][t]=n},r.override=function(e){var t=e.name;""!==t&&(r.overrideSuper(r.class,t,r[t]),r[t]=e)},r.super=function(e,t,n){var i=r.getSuperClassOfClass(e);return r._super[i]&&r._super[i][t]?r._super[i][t].apply(r,n):null},r._constructObjectCategories=function(e){var n=t.ON_CREATE_CATEGORY;"undefined"!=typeof e&&(n=e),"undefined"!=typeof t._objectCategories[n][r.class]&&t._objectCategories[n][r.class].forEach(function(e){try{e(r)}catch(t){console.log("Error during category construction: "+t.message)}})},r.init=function(){return r._constructObjectCategories(t.ON_INIT_CATEGORY),r},r._tags={},r._tagListeners={},r.setTagForKey=function(e,t){r._tags[e]=t;var n=function(e,t,n){return function(){e(r,t,n)}};if(r._tagListeners[e])for(var i=0;i<r._tagListeners[e].length;i++)setTimeout(n(r._tagListeners[e][i],e,t),0)},r.getTagForKey=function(e){return r._tags[e]},r.addTagListenerForKey=function(e,t){r._tagListeners[e]||(r._tagListeners[e]=[]),r._tagListeners[e].push(t)},r.removeTagListenerForKey=function(e,t){r._tagListeners[e]||(r._tagListeners[e]=[]);var n=r._tagListeners[e].indexOf(t);n>-1&&r._tagListeners[e].splice(n,1)},r.setTag=function(e){r.setTagForKey("__default",e)},r.getTag=function(){return r.getTagForKey("__default")},Object.defineProperty(r,"tag",{get:r.getTag,set:r.setTag,configurable:!0}),r._notificationListeners={},r.addListenerForNotification=function i(e,t,n){if(e instanceof Array)return e.forEach(function(e){i(e,t,n)}),r;if("object"==typeof e){for(var o in e)e.hasOwnProperty(o)&&i(o,e[o],t);return r}return r._notificationListeners[e]||r.registerNotification(e,"undefined"!=typeof n?n:!1),r._notificationListeners[e].push(t),r._traceNotifications&&console.log("Adding listener "+t+" for notification "+e),r},r.on=r.addListenerForNotification,r.once=function(e,t,n){r.addListenerForNotification(e,function i(n,o,a){try{t.apply(r,[r,e,a].concat(arguments))
}catch(s){console.log("ONCE Handler had an error",s)}r.removeListenerForNotification(e,i)},n)},r.removeListenerForNotification=function o(e,t){if(e instanceof Array)return e.forEach(function(e){o(e,t)}),r;if("object"==typeof e){for(var n in e)e.hasOwnProperty(n)&&r.removeListenerForNotification(n,e[n]);return r}if(!r._notificationListeners[e])return console.log(e+" has not been registered."),r;var i=r._notificationListeners[e].indexOf(t);return r._traceNotifications&&console.log("Removing listener "+t+" (index: "+i+") from  notification "+e),i>-1&&r._notificationListeners[e].splice(i,1),r},r.off=r.removeListenerForNotification,r.registerNotification=function(e,t){"undefined"==typeof r._notificationListeners[e]&&(r._notificationListeners[e]=[],r._notificationListeners[e]._useAsyncNotifications="undefined"!=typeof t?t:!0),r._traceNotifications&&console.log("Registering notification "+e)},r._traceNotifications=!1,r.notify=function(e,t){n(e,{args:t,lastOnly:!1})},r.emit=r.notify,r.notifyMostRecent=function(e,t){n(e,{args:t,lastOnly:!0})},r.emitToLast=r.notifyMostRecent,r.defineProperty=function(e,t){var n={"default":void 0,read:!0,write:!0,get:null,set:null,selfDiscover:!0,prefix:"",configurable:!0,backingVariable:!0};"_"===e.substr(0,1)&&(n.prefix="_"),""!==n.prefix&&e.substr(0,1)===n.prefix&&(e=e.substr(1));for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);var o=e.substr(0,1).toUpperCase()+e.substr(1),a=n.prefix+"get"+o,s=n.prefix+"set"+o,l=n.prefix+"_"+e,u=n.prefix+"_y_get"+o,c=n.prefix+"_y_set"+o,f=n.prefix+"_y__get"+o,d=n.prefix+"_y__set"+o;if(null===n.get&&n.selfDiscover&&"function"==typeof r[a]&&(n.get=r[a]),null===n.set&&n.selfDiscover&&"function"==typeof r[s]&&(n.set=r[s]),n.backingVariable&&(r[l]=n.default),n.read||n.write){var p={configurable:n.configurable};n.read&&(r[f]=n.get,r[u]=function(){return"function"==typeof r[f]?r[f](r[l]):r[l]},"undefined"==typeof r[a]&&(r[a]=r[u]),p.get=r[u]),n.write&&(r[d]=n.set,r[c]=function(t){var n=r[l];"function"==typeof r[d]?r[d](t,n):r[l]=t,n!==t&&r.notifyDataBindingElementsForKeyPath(e)},"undefined"==typeof r[s]&&(r[s]=r[c]),p.set=r[c]),Object.defineProperty(r,e,p)}},r.defineObservableProperty=function(e,t){var n=e,i={observable:!0,notification:e+"Changed","default":void 0,read:!0,write:!0,get:null,validate:null,set:null,selfDiscover:!0,notifyAlways:!1,prefix:"",configurable:!0};"_"===e.substr(0,1)&&(i.prefix="_"),""!==i.prefix&&e.substr(0,1)===i.prefix&&(e=e.substr(1));var o=e.substr(0,1).toUpperCase()+e.substr(1),a=i.prefix+"getObservable"+o,s=i.prefix+"setObservable"+o,l=i.prefix+"validateObservable"+o,u=i.prefix+"_y_"+e,c=i.prefix+"_y_get"+o,f=i.prefix+"_y_set"+o,d=(i.prefix+"_y_validate"+o,i.prefix+"_y__get"+o),p=i.prefix+"_y__set"+o,m=i.prefix+"_y__validate"+o;for(var y in t)t.hasOwnProperty(y)&&(i[y]=t[y]);if(null===i.get&&i.selfDiscover&&"function"==typeof r[a]&&(i.get=r[a]),null===i.set&&i.selfDiscover&&"function"==typeof r[s]&&(i.set=r[s]),null===i.validate&&i.selfDiscover&&"function"==typeof r[l]&&(i.validate=r[l]),i.observable&&r.registerNotification(i.notification),r[u]=i.default,i.read||i.write){var v={configurable:!0};i.read&&(r[d]=i.get,r[c]=function(){return"function"==typeof r[d]?r[d](r[u]):r[u]},v.get=r[c]),i.write&&(r[m]=i.validate,r[p]=i.set,r[f]=function(t){var n=r[u],o=!0;"function"==typeof r[m]&&(o=r[m](t)),o&&(r[u]="function"==typeof r[p]?r[p](t,n):t,n!==t&&r.notifyDataBindingElementsForKeyPath(e),(t!==n||i.notifyAlways)&&i.observable&&r.notify(i.notification,{"new":t,old:n}))},v.set=r[f]),Object.defineProperty(r,n,v)}},r._dataBindings={},r._dataBindingTypes={},r._dataBindingEvents=["input","change","blur"],r.dataBindOn=function(e,t,n){return void 0===r._dataBindings[t]&&(r._dataBindings[t]=[]),r._dataBindings[t].push(e),r._dataBindingTypes[t]=n,e.setAttribute("data-y-keyPath",t),e.setAttribute("data-y-keyType",void 0!==n?n:"string"),r._dataBindingEvents.forEach(function(t){e.addEventListener(t,r.updatePropertyForKeyPath,!1)}),r},r.dataBindOff=function(e,t){var n,i=r._dataBindings[t];return void 0!==i&&(n=i.indexOf(e),n>-1&&(i.splice(n,1),e.removeAttribute("data-y-keyPath"),e.removeAttribute("data-y-keyType"),r._dataBindingEvents.forEach(function(t){e.removeEventListener(t,r.updatePropertyForKeyPath)}))),r},r.dataBindAllOffForKeyPath=function(e){var t=r._dataBindings[e];return void 0!==t&&(t.forEach(function(e){e.removeAttribute("data-y-keyPath"),e.removeAttribute("data-y-keyType"),r._dataBindingEvents.forEach(function(t){e.removeEventListener(t,r.updatePropertyForKeyPath)})}),t=[]),r},r.dataBindAllOff=function(){for(var e in r._dataBindings)r._dataBindings.hasOwnProperty(e)&&r.dataBindAllOffForKeyPath(e)},r.updatePropertyForKeyPath=function(e,t,n){var i,o=n,a=e,s=t;try{if(this!==r&&this instanceof Node){switch(void 0!==this.getAttribute("data-y-keyType")&&(o=this.getAttribute("data-y-keyType")),a=this.getAttribute("data-y-keyPath"),i=this.getAttribute("type"),s=this.value,o){case"integer":r[a]=""===s?null:parseInt(s,10);break;case"float":r[a]=""===s?null:parseFloat(s);break;case"boolean":r[a]=void 0!==this.checked?this.checked:""+s=="1"||"true"===s.toLowerCase();break;case"date":if("text"===this.type)try{console.log("trying to pull date from ",this.value),r[a]=new Date(this.value)}catch(l){console.log("nope; set to null"),r[a]=null}else r[a]=this.valueAsDate;break;default:r[a]=s}return}switch(void 0===o&&(o=r._dataBindingTypes[a]),o){case"integer":r[a]=parseInt(s,10);break;case"float":r[a]=parseFloat(s);break;case"boolean":r[a]="1"===s||1===s||"true"===s.toLowerCase()||s===!0?!0:!1;break;case"date":r[a]=new Date(s);break;default:r[a]=s}}catch(l){console.log("Failed to update",a,"with",s,"and",o,l,this,arguments)}},r.notifyDataBindingElementsForKeyPath=function(e){try{var t,n,i,o,a,s,l=r._dataBindings[e],u=r._dataBindingTypes[e];if(void 0===u&&(u="string"),n=r[e],(void 0===n||null===n)&&(n=""),void 0!==l)for(var c=0,f=l.length;f>c;c++){t=l[c];try{"number"==typeof t.selectionStart?(a=t.selectionStart,s=t.selectionEnd):(a=-1,s=-1)}catch(d){a=-1,s=-1}if(i=t.getAttribute("type"),"date"===i)if(t.type!==i){if(!n.toISOString)throw new Error("v is an unexpected type: "+typeof n+"; "+n);o=n.toISOString().split("T")[0],console.log("trying to set value to  ",o),t.value!==o&&(console.log("doing it  ",o),t.value=o)}else t.valueAsDate!==n&&(t.valueAsDate=n);else"checkbox"===t.type?(t.indeterminate=void 0===n||null===n,t.checked!==n&&(t.checked=n)):"undefined"!=typeof t.value?t.value!=n&&(t.value=n):"undefined"!=typeof t.textContent?t.textContent!=n&&(t.textContent=n):"undefined"!=typeof t.innerText?t.innerText!=n&&(t.innerText=n):console.log("Data bind failure; browser doesn't understand value, textContent, or innerText.");a>-1&&document.activeElement===t&&(t.selectionStart=a,t.selectionEnd=s)}}catch(d){console.log("Failed to update elements for ",e,d,arguments)}},r._autoInit=function(){return arguments.length>0?1===arguments.length&&"object"==typeof arguments[0]&&"undefined"!=typeof r.initWithOptions?r.initWithOptions.apply(r,arguments):r.init.apply(r,arguments):void 0},r.destroy=function(){r.dataBindAllOff(),r._notificationListeners={},r._tagListeners={},r._constructObjectCategories(t.ON_DESTROY_CATEGORY)},r._constructObjectCategories(),r._autoInit.apply(r,arguments),r};return t.promote=function(e){var n,r;if(void 0!==e){n=new t;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],"function"==typeof r?n[i]=r:n.defineObservableProperty(i,{"default":r}))}return n},t._objectCategories=[{},{},{}],t.ON_CREATE_CATEGORY=0,t.ON_INIT_CATEGORY=1,t.ON_DESTROY_CATEGORY=2,t.registerCategoryConstructor=function(e){if("undefined"==typeof e)throw new Error("registerCategoryConstructor requires a class name and a constructor method.");if("undefined"!=typeof e.class)throw new Error("registerCategoryConstructor requires options.class");if("undefined"!=typeof e.method)throw new Error("registerCategoryConstructor requires options.method");var n=e.class,r=e.method,i=t.ON_CREATE_CATEGORY;"undefined"!=typeof e.priority&&(i=e.priority),"undefined"==typeof t._objectCategories[i][n]&&(t._objectCategories[i][n]=[]),t._objectCategories[i][n].push(r)},t.extend=function(){return function(){}},t.meta={version:"00.05.101","class":e,autoInitializable:!0,categorizable:!0},t}),t("Q",[],function(){return window.Q}),t("yasmf/util/fileManager",["Q","yasmf/util/object"],function(e,t){var n=!0;return function(e,t,n){function r(t,n){var r=e.defer();b&&console.log(["_requestQuota: ",t,n].join(" "));try{var i="undefined"!=typeof LocalFileSystem?LocalFileSystem.PERSISTENT:window.PERSISTENT,o=t===i?navigator.webkitPersistentStorage:navigator.webkitTemporaryStorage;o?o.requestQuota?o.requestQuota(n,function(e){b&&console.log(["_requestQuota: quota granted: ",t,e].join(" ")),r.resolve(e)},function(e){b&&console.log(["_requestQuota: quota rejected: ",t,n,e].join(" ")),r.reject(e)}):(b&&console.log(["_requestQuota: couldn't request quota -- no requestQuota: ",t,n].join(" ")),r.resolve(n)):(b&&console.log(["_requestQuota: couldn't request quota -- no storageInfo: ",t,n].join(" ")),r.resolve(n))}catch(a){r.reject(a)}return r.promise}function i(t,n){var r=e.defer();b&&console.log(["_requestFileSystem: ",t,n].join(" "));try{var i=window.requestFileSystem||window.webkitRequestFileSystem;i(t,n,function(e){b&&console.log(["_requestFileSystem: got a file system",e].join(" ")),r.resolve(e)},function(e){b&&console.log(["_requestFileSystem: couldn't get a file system",t].join(" ")),r.reject(e)})}catch(o){r.reject(o)}return r.promise}function o(t){var n=e.defer();b&&console.log(["_resolveLocalFileSystemURL: ",t].join(" "));try{var r,i,o=t.split(":");if(o.length>2)throw new Error("The URI is not well-formed; missing protocol: "+t);o.length<2?(r="file",i=o[0]):(r=o[0],i=o[1]);var a=i.split("/"),s=[];a.forEach(function(e){e=e.trim(),""!==e&&("private"!==e&&"localhost"!==e||0!==s.length)&&s.push(e)});var l=s.join("/");l=r+":///"+l,window.resolveLocalFileSystemURL(l,function(e){n.resolve(e)},function(e){n.reject(e)})}catch(u){n.reject(u)}return n.promise}function a(t,n,r){b&&console.log(["_getDirectoryEntry:",t,n,r].join(" "));var i=e.defer();try{"object"==typeof n?i.resolve(n):t.getDirectory(n,r||{},function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function s(t,n,r){b&&console.log(["_getFileEntry:",t,n,r].join(" "));var i=e.defer();try{"object"==typeof n?i.resolve(n):t.getFile(n,r||{},function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function l(t){b&&console.log(["_getFileObject:",t].join(" "));var n=e.defer();try{t.file(function(e){n.resolve(e)},function(e){n.reject(e)})}catch(r){n.reject(r)}return n.promise}function u(t,n){b&&console.log(["_readFileContents:",t,n].join(" "));var r=e.defer();try{var i=new FileReader;i.onloadend=function(e){r.resolve(e.target.result)},i.onerror=function(e){r.reject(e)},i["readAs"+n](t)}catch(o){r.reject(o)}return r.promise}function c(t){b&&console.log(["_createFileWriter:",t].join(" "));var n=e.defer();try{{t.createWriter(function(e){n.resolve(e)},function(e){n.reject(e)})}}catch(r){n.reject(r)}return n.promise}function f(t,n){b&&console.log(["_writeFileContents:",t,n].join(" "));var r=e.defer();try{t.onwrite=function(){t.onwrite=function(e){r.resolve(e)},t.write(n)},t.onError=function(e){r.reject(e)},t.truncate(0)}catch(i){r.reject(i)}return r.promise}function d(t,n,r){b&&console.log(["_copyFile:",t,n,r].join(" "));var i=e.defer();try{t.copyTo(n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function p(t,n,r){b&&console.log(["_moveFile:",t,n,r].join(" "));var i=e.defer();try{t.moveTo(n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function m(t){b&&console.log(["_removeFile:",t].join(" "));var n=e.defer();try{t.remove(function(){n.resolve()},function(e){n.reject(e)})}catch(r){n.reject(r)}return n.promise}function y(t,n,r){b&&console.log(["_copyDirectory:",t,n,r].join(" "));var i=e.defer();try{t.copyTo(n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function v(t,n,r){b&&console.log(["_moveDirectory:",t,n,r].join(" "));var i=e.defer();try{t.moveTo(n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function g(t,n){b&&console.log(["_removeDirectory:",t,"recursively",n].join(" "));var r=e.defer();try{n?t.removeRecursively(function(){r.resolve()},function(e){r.reject(e)}):t.remove(function(){r.resolve()},function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise}function h(t){function n(){r.readEntries(function(e){e.length?(i=i.concat(Array.prototype.slice.call(e||[],0)),n()):o.resolve(i)},function(e){o.reject(e)})}b&&console.log(["_readDirectoryContents:",t].join(" "));var r=t.createReader(),i=[],o=e.defer();try{n()}catch(a){o.reject(a)}return o.promise}var b=!1,_="UTIL.FileManager",w=function(){var n,w="undefined"!=typeof t;return w?(n=new t,n.subclass(_),n.registerNotification("changedCurrentWorkingDirectory")):n={},n.PERSISTENT="undefined"!=typeof LocalFileSystem?LocalFileSystem.PERSISTENT:window.PERSISTENT,n.TEMPORARY="undefined"!=typeof LocalFileSystem?LocalFileSystem.TEMPORARY:window.TEMPORARY,n.FILETYPE={TEXT:"Text",DATA_URL:"DataURL",BINARY:"BinaryString",ARRAY_BUFFER:"ArrayBuffer"},n.getGlobalDebug=function(){return b},n.setGlobalDebug=function(e){b=e},Object.defineProperty(n,"globalDebug",{get:n.getGlobalDebug,set:n.setGlobalDebug,configurable:!0}),n._fileSystemType=null,n.getFileSystemType=function(){return n._fileSystemType},Object.defineProperty(n,"fileSystemType",{get:n.getFileSystemType,configurable:!0}),n._requestedQuota=0,n.getRequestedQuota=function(){return n._requestedQuota},Object.defineProperty(n,"requestedQuota",{get:n.getRequestedQuota,configurable:!0}),n._actualQuota=0,n.getActualQuota=function(){return n._actualQuota},Object.defineProperty(n,"actualQuota",{get:n.getActualQuota,configurable:!0}),n._fileSystem=null,n.getFileSystem=function(){return n._fileSystem},Object.defineProperty(n,"fileSystem",{get:n.getFileSystem,configurable:!0}),n._root=null,n._cwd=null,n.getCurrentWorkingDirectory=function(){return n._cwd},n.setCurrentWorkingDirectory=function(e){n._cwd=e,w&&n.notify("changedCurrentWorkingDirectory")},Object.defineProperty(n,"cwd",{get:n.getCurrentWorkingDirectory,set:n.setCurrentWorkingDirectory,configurable:!0}),Object.defineProperty(n,"currentWorkingDirectory",{get:n.getCurrentWorkingDirectory,set:n.setCurrentWorkingDirectory,configurable:!0}),n._cwds=[],n.pushCurrentWorkingDirectory=function(){n._cwds.push(n._cwd)},n.popCurrentWorkingDirectory=function(){n.setCurrentWorkingDirectory(n._cwds.pop())},n.resolveLocalFileSystemURL=function(t){var n=e.defer();return o(t).then(function(e){n.resolve(e)}).catch(function(e){n.reject(e)}).done(),n.promise},n.getFileEntry=function(t,r){var i=e.defer();return s(n._cwd,t,r).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)}).done(),i.promise},n.getFile=function(e,t){return n.getFileEntry(e,t).then(l)},n.getDirectoryEntry=function(t,r){var i=e.defer();return a(n._cwd,t,r).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)}).done(),i.promise},n.getFileURL=function(t,r){var i=e.defer();return s(n._cwd,t,r).then(function(e){i.resolve(e.toURL())}).catch(function(e){i.reject(e)}).done(),i.promise},n.getDirectoryURL=function(t,r){var i=e.defer();return a(n._cwd,t||".",r).then(function(e){i.resolve(e.toURL())}).catch(function(e){i.reject(e)}).done(),i.promise},n.getNativeURL=function(e){var t=e;"string"!=typeof e&&(t=e.fullPath());var r="/"===t.substr(0,1),i=r?n._root.nativeURL:n.cwd.nativeURL;return i+(r?"":"/")+t},n.getNativeFileURL=function(t,r){var i=e.defer();return s(n._cwd,t,r).then(function(e){i.resolve(e.nativeURL)}).catch(function(e){i.reject(e)}).done(),i.promise},n.getNativeDirectoryURL=function(t,r){var i=e.defer();return a(n._cwd,t||".",r).then(function(e){i.resolve(e.nativeURL)}).catch(function(e){i.reject(e)}).done(),i.promise},n.changeDirectory=function(t){var r=e.defer();return a(n._cwd,t,{}).then(function(e){n.cwd=e}).then(function(){r.resolve(n)}).catch(function(e){r.reject(e)}).done(),r.promise},n.readFileContents=function(t,r,i){var o=e.defer();return s(n._cwd,t,r||{}).then(function(e){return l(e)}).then(function(e){return u(e,i||"Text")}).then(function(e){o.resolve(e)}).catch(function(e){o.reject(e)}).done(),o.promise},n.readDirectoryContents=function(t,r){var i=e.defer();return a(n._cwd,t||".",r||{}).then(function(e){return h(e)}).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)}).done(),i.promise},n.writeFileContents=function(t,r,i){var o=e.defer();return s(n._cwd,t,r||{create:!0,exclusive:!1}).then(function(e){return c(e)}).then(function(e){return f(e,i)}).then(function(){o.resolve(n)}).catch(function(e){o.reject(e)}).done(),o.promise},n.createDirectory=function(t){var r=e.defer();return a(n._cwd,t,{create:!0,exclusive:!1}).then(function(e){r.resolve(e)}).catch(function(e){r.reject(e)}).done(),r.promise},n.copyFile=function(t,r,i){var o,l=e.defer();return s(n._cwd,t,{}).then(function(e){return o=e,a(n._cwd,r,{})}).then(function(e){return d(o,e,i)}).then(function(e){l.resolve(e)}).catch(function(e){l.reject(e)}).done(),l.promise},n.copyDirectory=function(t,r,i){var o,s=e.defer();return a(n._cwd,t,{}).then(function(e){return o=e,a(n._cwd,r,{})}).then(function(e){return y(o,e,i)}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)}).done(),s.promise},n.moveFile=function(t,r,i){var o,l=e.defer();return s(n._cwd,t,{}).then(function(e){return o=e,a(n._cwd,r,{})}).then(function(e){return p(o,e,i)}).then(function(e){l.resolve(e)}).catch(function(e){l.reject(e)}).done(),l.promise},n.moveDirectory=function(t,r,i){var o,s=e.defer();return a(n._cwd,t,{}).then(function(e){return o=e,a(n._cwd,r,{})}).then(function(e){return v(o,e,i)}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)}).done(),s.promise},n.renameFile=function(e,t){return n.moveFile(e,".",t)},n.renameDirectory=function(e,t){return n.moveDirectory(e,".",t)},n.deleteFile=function(t){var r=e.defer();return s(n._cwd,t,{}).then(function(e){return m(e)}).then(function(){r.resolve(n)}).catch(function(e){r.reject(e)}).done(),r.promise},n.removeDirectory=function(t,r){var i=e.defer();return a(n._cwd,t,{}).then(function(e){return g(e,r)}).then(function(){i.resolve(n)}).catch(function(e){i.reject(e)}).done(),i.promise},n._initializeFileSystem=function(){var t=e.defer();return r(n.fileSystemType,n.requestedQuota).then(function(e){return n._actualQuota=e,i(n.fileSystemType,n.actualQuota)}).then(function(e){return n._fileSystem=e,a(e.root,"",{})}).then(function(e){n._root=e,n._cwd=e}).then(function(){t.resolve(n)}).catch(function(e){t.reject(e)}).done(),t.promise},n.overrideSuper&&n.overrideSuper(n.class,"init",n.init),n.init=function(e,t){if(n.super&&n.super(_,"init"),"undefined"==typeof e)throw new Error("No file system type specified; specify PERSISTENT or TEMPORARY.");if("undefined"==typeof t)throw new Error("No quota requested. If you don't know, specify ZERO.");return n._requestedQuota=t,n._fileSystemType=e,n._initializeFileSystem()},n.initWithOptions=function(e){if("undefined"==typeof e)throw new Error("No options specified. Need type and quota.");if("undefined"==typeof e.fileSystemType)throw new Error("No file system type specified; specify PERSISTENT or TEMPORARY.");if("undefined"==typeof e.requestedQuota)throw new Error("No quota requested. If you don't know, specify ZERO.");return n.init(e.fileSystemType,e.requestedQuota)},n};return w.meta={version:"00.04.450","class":_,autoInitializable:!1,categorizable:!1},n&&(n.FileManager=w),w}(e,t,"undefined"!=typeof n?void 0:window)}),t("yasmf/util/h",["yasmf/util/object"],function(e){function t(e,n){if("object"==typeof e){if(e instanceof Array)for(var r=0,i=e.length;i>r;r++)t(e[r],n);e instanceof Node&&n.appendChild(e)}"function"==typeof e&&t(e(),n)}function n(e){var t={tag:"",id:void 0,"class":void 0,query:void 0,queryParts:[]},n=e.indexOf("#"),r=e.indexOf("."),i=e.indexOf("?");return i>=0&&(t.query=e.substr(i+1),t.queryParts=t.query.split("&"),e=e.substr(0,i)),0>n&&0>r?(t.tag=e,t):n>=0&&0>r?(t.tag=e.substr(0,n),t.id=e.substr(n+1),t):r>=0&&0>n?(t.tag=e.substr(0,r),t.class=e.substr(r+1),t):r>=0&&n>=0&&r>n?(t.tag=e.substr(0,n),t.id=e.substr(n+1,r-n-1),t.class=e.substr(r+1),t):r>=0&&n>=0&&n>r?(t.tag=e.substr(0,r),t.class=e.substr(r+1,n-r-1),t.id=e.substr(n+1),t):t}var r={},i={},o=0,a={VERSION:"0.1.100",useDomMerging:!1,debug:!1,_globalEvents:r,_renderEvents:i,el:function(r){var i,a,s,l,u,c,f,d=[],p=[],m=n(r);i="@DF"!==m.tag?document.createElement(m.tag):document.createDocumentFragment(),void 0!==m.class&&(i.className=m.class),void 0!==m.id?(f=m.id,i.setAttribute("id",m.id)):(o++,f="h-y-"+o,i.setAttribute("id",f));var y=Array.prototype.slice.call(arguments,1);for(a=0;3>a;a++)"undefined"!=typeof y[0]&&("object"==typeof y[0]&&(y[0]instanceof Node||y[0]instanceof Array||(c=y.shift())),("string"==typeof y[0]||"number"==typeof y[0])&&d.push(y.shift()));if(m.queryParts.length>0){var v;for(a=0,s=m.queryParts.length;s>a;a++)v=m.queryParts[a].split("="),2===v.length&&i.setAttribute(v[0].trim(),v[1].trim())}if("object"==typeof c&&null!==c){if(c.attrs)for(var g in c.attrs)c.attrs.hasOwnProperty(g)&&void 0!==c.attrs[g]&&null!==c.attrs[g]&&i.setAttribute(g,c.attrs[g]);if(c.styles)for(var h in c.styles)c.styles.hasOwnProperty(h)&&void 0!==c.styles[h]&&null!==c.styles[h]&&(i.style[h]=c.styles[h]);if(c.on)for(u in c.on)c.on.hasOwnProperty(u)&&("function"==typeof c.on[u]?(l=c.on[u].bind(i),i.addEventListener(u,l,!1)):(l=c.on[u].handler.bind(i),i.addEventListener(u,l,"undefined"!=typeof c.on[u].capture?c.on[u].capture:!1)));if(c.hammer){var b=c.hammer.hammer;for(u in c.hammer)c.hammer.hasOwnProperty(u)&&"hammer"!==u&&b(i,c.hammer[u].options).on(u,c.hammer[u].handler)}c.store&&(c.store.object[c.store.keyPath]=i)}for("undefined"!=typeof i.value&&p.push("value"),("undefined"!=typeof i.textContent||"undefined"!=typeof i.innerText)&&p.push("undefined"!=typeof i.textContent?"textContent":"innerText"),a=0,s=p.length;s>a;a++){var _=d.shift();"undefined"!=typeof _&&(i[p[a]]=_)}var w;for(a=0,s=y.length;s>a;a++)w=y[a],t(w,i);return"object"==typeof c&&null!==c&&c.bind&&"undefined"!=typeof e&&c.bind.object instanceof e&&(c.bind.object.dataBindOn(i,c.bind.keyPath,c.bind.keyType),c.bind.object.notifyDataBindingElementsForKeyPath(c.bind.keyPath)),i},mapTo:function(e,t){return"undefined"==typeof t?e:"undefined"!=typeof t[e]?t[e]:e},iif:function(e,t,n){return e?"undefined"!=typeof t?t:!0:"undefined"!=typeof n?n:!1},ifdef:function(e,t,n){return"undefined"!=typeof e?"undefined"!=typeof t?t:!0:"undefined"!=typeof n?n:!1},forIn:function(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(t(e[r],e,r));return n},forEach:function(e,t){return e.map(t)},renderTo:function l(e,t,n){function r(e,t,n){var i,o,a=[!1,!1],s=[[],[]],l=0,u=1,c=[0,0],f=[t,n],d=[[],[]],p=[{},{}],m=[[],[]],y=[null,null];if(t||n){if(!t&&n)return void e.appendChild(n);if(t&&!n)return void t.remove();if(t.nodeType!==n.nodeType||1!==n.nodeType)return void e.replaceChild(n,t);if(n.classList&&!n.classList.contains("ui-container")&&!n.classList.contains("ui-list")&&!n.classList.contains("ui-scroll-container"))return void e.replaceChild(n,t);for(f.forEach(function(e,t){a[t]=e.hasChildNodes(),c[t]=e.childNodes.length,e.getAttribute&&(y[t]=e.getAttribute("id")),e.childNodes&&(s[t]=[].slice.call(e.childNodes,0)),e.attributes&&(d[t]=[].slice.call(e.attributes,0)),e.styles&&(p[t]=e.style,m[t]=Object.keys(p[t]))}),i=0,o=Math.max(c[l],c[u]);o>i;i++)r(t,s[l][i],s[u][i]);for(i=0,o=Math.max(d[l].length,d[u].length);o>i;i++)d[l][i]&&(n.hasAttribute(d[l][i].name)||t.removeAttribute(d[l][i].name)),d[u][i]&&t.setAttribute(d[u][i].name,d[u][i].value);for(i=0,o=Math.max(p[l].length,p[u].length);o>i;i++)p[l][i]&&(m[u][i]in m[l]||(t.style[m[u][i]]=null)),p[u][i]&&(t.style[m[u][i]]=p[u][m[u][i]])}}if(n||(n=0),e instanceof Array)for(var i=0,o=e.length;o>i;i++)l(e[i],t,i);else{var s=[null,null];t.hasChildNodes()&&n<t.childNodes.length?(s[0]=t.childNodes[n].getAttribute("id"),a.useDomMerging?r(t,t.childNodes[n],e):t.replaceChild(e,t.childNodes[n])):t.appendChild(e)}}},s=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];return s.forEach(function(e){a[e]=a.el.bind(a,e)}),a.DF=a.el.bind(a,"@DF"),a.dF=a.DF,a}),t("yasmf/util/router",[],function(){function e(e,t,n){void 0===t&&(t="/"),void 0===n&&(n=!0);var r,i,o,a,s,l,u=document.createElement("a");return u.href=e,r=decodeURIComponent(u.pathname),i=decodeURIComponent(u.search),o=decodeURIComponent(u.hash),""===o&&n&&(o="#/"),r.substr(0,t.length)===t&&(r=r.substr(t.length)),i=i.substr(1),o=o.substr(1),a=i.split("&"),s=r.split("/"),n&&(l=o.split("/")),{path:r,query:i,hash:o,queryParts:a,pathParts:s,hashParts:l}}function t(e,t,n){if(e.hashParts.length!==t.hashParts.length)return!1;for(var r,i,o=0,a=e.hashParts.length;a>o;o++)if(r=e.hashParts[o],i=t.hashParts[o],":"===i.substr(0,1)&&i.length>1)n[i.substr(1)]=r;else if(r!==i)return!1;return!0}var n=[],r={VERSION:"0.1.100",baseURL:"/",addURL:function(e,t){return void 0===n[e]&&(n[e]=[]),n[e].title=t,this},addHandler:function(e,t){return n[e].push(t),this},removeHandler:function(e,t){var r,i=n[e];return void 0!==i&&(r=i.indexOf(t),r>-1&&i.splice(r,1)),this},parseURL:e,processRoute:function(r,i){void 0===r&&(r=window.location.href);var o,a,s,l,u=e(r);for(r in n)n.hasOwnProperty(r)&&(o=e("#"+r),a=n[r],l=a.title,s={},t(u,o,s)&&a.forEach(function(e){try{e(s,i,r,l,u)}catch(t){console.log("WARNING! Failed to process a route for",r)}}))},_routeListener:function(e){r.processRoute(window.location.href,e.state)},check:function(){return this.processRoute(window.location.href),this},listening:!1,listen:function(){this.listening||(this.listening=!0,window.addEventListener("popstate",this._routeListener,!1))},stopListening:function(){this.listening&&window.removeEventListener("popstate",this._routeListener)},go:function(e,t){return history.pushState(t,null,"#"+encodeURIComponent(e)),this.check()},replace:function(e,t){return history.replaceState(t,null,"#"+encodeURIComponent(e)),this.check()},back:function(e){history.back(e),this.listening||this.processRoute(window.location.href,history.state)}};return r}),t("yasmf/ui/core",["yasmf/util/device","yasmf/util/object"],function(e,t){function n(e,t,n,o){for(var a,s,l,u,c,f=0,d=r.length;d>f;f++)l=r[f],u=i[f],a=l+e,c=""!==u?u+e.substr(0,1).toUpperCase()+e.substr(1):e,s=t.replace("{-}",l),"undefined"!=typeof this._el.style[c]&&(this._animations.push([a,s]),this._transitions.push([a,("undefined"!=typeof n?n:this.timing)+"s","undefined"!=typeof o?o:this.timingFunction])),this._maxTiming=Math.max(this._maxTiming,"undefined"!=typeof n?n:this.timing);return this}var r=["-webkit-","-moz-","-ms-","-o-",""],i=["webkit","moz","ms","o",""],o=function(e,t,n){this._el=document.createElement("div"),this._els=e,this._animations=[],this._transitions=[],this.timingFunction="ease-in-out",this.timing=.3,this._maxTiming=0,"undefined"!=typeof t&&(this.timing=t),"undefined"!=typeof n&&(this.timingFunction=n)};o.prototype.setTimingFunction=function(e){return this.timingFunction=e,this},o.prototype.setTiming=function(e){return this.timing=e,this},o.prototype.move=function(e,t){return n.call(this,"left",e),n.call(this,"top",t)},o.prototype.resize=function(e,t){return n.call(this,"width",e),n.call(this,"height",t)},o.prototype.opacity=function(e){return n.call(this,"opacity",e)},o.prototype.translate=function(e,t){return n.call(this,"transform",["translate(",[e,t].join(", "),")"].join(""))},o.prototype.translate3d=function(e,t,r){return n.call(this,"transform",["translate3d(",[e,t,r].join(", "),")"].join(""))},o.prototype.scale=function(e){return n.call(this,"transform",["scale(",e,")"].join(""))},o.prototype.rotate=function(e){return n.call(this,"transform",["rotate(",e,"deg)"].join(""))},o.prototype.endAnimation=function(e){var t=this._transitions.map(function(e){return e.join(" ")}).join(", "),n=this;return n._els.forEach(function(e){var n,i,o;for(n=0,i=r.length;i>n;n++)o=r[n]+"transition",e.style.setProperty(o,t)}),setTimeout(function(){var t,i,o,a;n._els.forEach(function(e){for(t=0,i=n._animations.length;i>t;t++)o=n._animations[t][0],a=n._animations[t][1],e.style.setProperty(o,a)}),setTimeout(function(){var t;n._animations=[],n._transitions=[],n._els.forEach(function(e){for(var n=0,i=r.length;i>n;n++)t=r[n]+"transition",e.style.setProperty(t,"")}),"function"==typeof e&&e.call(n)},1e3*n._maxTiming)},50),this},o.prototype.then=o.prototype.endAnimation;var a={};return a.version="0.5.100",a.styleElement=function(e,t,n){"object"!=typeof e&&(e instanceof Node||(n=t,t=e,e=this));for(var i=0;i<r.length;i++){var o=r[i],a=o+t,s=n.replace("%PREFIX%",o).replace("{-}",o);e.style.setProperty(a,s)}},a.styleElements=function(e,t,n){var r;for(r=0;r<e.length;r++)a.styleElement(e[r],t,n)},a.beginAnimation=function(e,t){var n=[];return"string"==typeof e&&("undefined"==typeof t&&(t=document),n=n.concat(Array.prototype.splice.call(t.querySelectorAll(e),0))),"object"==typeof e&&e instanceof Array&&(n=n.concat(e)),"object"==typeof e&&e instanceof Node&&(n=n.concat([e])),new o(n)},a.colorToRGBA=function(e){return e?0!==e.alpha?"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")":"transparent":"inherit"},a.makeColor=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},a.copyColor=function(e){return a.makeColor(e.red,e.green,e.blue,e.alpha)},a.COLOR=a.COLOR||{},a.COLOR.blackColor=function(){return a.makeColor(0,0,0,1)},a.COLOR.darkGrayColor=function(){return a.makeColor(85,85,85,1)},a.COLOR.GrayColor=function(){return a.makeColor(127,127,127,1)},a.COLOR.lightGrayColor=function(){return a.makeColor(170,170,170,1)},a.COLOR.whiteColor=function(){return a.makeColor(255,255,255,1)},a.COLOR.blueColor=function(){return a.makeColor(0,0,255,1)},a.COLOR.greenColor=function(){return a.makeColor(0,255,0,1)},a.COLOR.redColor=function(){return a.makeColor(255,0,0,1)},a.COLOR.cyanColor=function(){return a.makeColor(0,255,255,1)},a.COLOR.yellowColor=function(){return a.makeColor(255,255,0,1)},a.COLOR.magentaColor=function(){return a.makeColor(255,0,255,1)},a.COLOR.orangeColor=function(){return a.makeColor(255,127,0,1)},a.COLOR.purpleColor=function(){return a.makeColor(127,0,127,1)},a.COLOR.brownColor=function(){return a.makeColor(153,102,51,1)},a.COLOR.lightTextColor=function(){return a.makeColor(240,240,240,1)},a.COLOR.darkTextColor=function(){return a.makeColor(15,15,15,1)},a.COLOR.clearColor=function(){return a.makeColor(0,0,0,0)},a._rootContainer=null,a._createRootContainer=function(){a._rootContainer=document.createElement("div"),a._rootContainer.className="ui-container",a._rootContainer.id="rootContainer",document.body.appendChild(a._rootContainer)},a._rootView=null,a.setRootView=function(e){null===a._rootContainer&&a._createRootContainer(),null!==a._rootView&&a.removeRootView(),a._rootView=e,a._rootView.parentElement=a._rootContainer
},a.removeRootView=function(){null!==a._rootView&&(a._rootView.parentElement=null),a._rootView=null},a.getRootView=function(){return a._rootView},Object.defineProperty(a,"rootView",{get:a.getRootView,set:a.setRootView}),a._BackButtonHandler=function(){var e=new t;return e.subclass("BackButtonHandler"),e.registerNotification("backButtonPressed"),e._lastBackButtonTime=-1,e.handleBackButton=function(){var t=(new Date).getTime();e._lastBackButtonTime<t-1e3&&(e._lastBackButtonTime=(new Date).getTime(),e.notifyMostRecent("backButtonPressed"))},document.addEventListener("backbutton",e.handleBackButton,!1),e},a.backButton=new a._BackButtonHandler,a._OrientationHandler=function(){var n=new t;return n.subclass("OrientationHandler"),n.registerNotification("orientationChanged"),n.handleOrientationChange=function(){var t,r,i,o,a,s=e.platform();switch(s){case"mac":try{a=""+parseFloat(navigator.userAgent.match(/OS X ([0-9_]+)/)[1].replace(/_/g,"."))}catch(l){}void 0!==a&&(s+=" mac"+(a.length<5?"C":"M"));break;case"ios":try{a=navigator.userAgent.match(/OS ([0-9]+)/)[1]}catch(l){}void 0!==a&&(s+=" ios"+a+" ios"+(7>a?"C":"M"));break;case"android":try{a=parseFloat(navigator.userAgent.match(/Android ([0-9.]+)/)[1])}catch(l){}void 0!==a&&(s+=" android"+(""+a).replace(/\./g,"-")+" android"+(4.4>a?"C":a>=5?"M":"K"))}r=e.formFactor(),t=e.isPortrait()?"portrait":"landscape",i=e.isRetina()?"hiDPI":"loDPI",i+=" scale"+window.devicePixelRatio+"x",o="",e.iPad()&&(o="ipad"),e.iPhone()&&(o="iphone"),e.droidTablet()&&(o="droid-tablet"),e.droidPhone()&&(o="droid-phone"),"undefined"!=typeof document.body&&null!==document.body&&document.body.setAttribute("class",[s,r,t,i,o].join(" ")),n.notify("orientationChanged")},window.addEventListener("orientationchange",n.handleOrientationChange,!1),"undefined"!=typeof document.body&&null!==document.body?n.handleOrientationChange():setTimeout(n.handleOrientationChange,0),n},a.orientationHandler=new a._OrientationHandler,a.globalNotifications=new t,"undefined"!=typeof document.body&&null!==document.body?a._createRootContainer():setTimeout(a._createRootContainer,0),Node.prototype.$s=a.styleElement,a}),t("yasmf/ui/event",["yasmf/util/device"],function(e){var t=function(t){var n=t;if(!n)return n;var r=e.platform(),i="wince"===r||"unknown"===r||"mac"===r||"windows"===r||"linux"===r;return i&&n.toLowerCase().indexOf("touch")>-1&&(n=n.replace("touch","mouse"),n=n.replace("start","down"),n=n.replace("end","up")),n},n={};return n.convert=function(e,t){"undefined"==typeof t&&(t=window.event);var r={_originalEvent:t,touches:[],x:-1,y:-1,avgX:-1,avgY:-1,element:t.target||t.srcElement,target:e};if(t.touches){for(var i=0,o=0,a=0;a<t.touches.length;a++)r.touches.push({x:t.touches[a].clientX,y:t.touches[a].clientY}),i+=t.touches[a].clientX,o+=t.touches[a].clientY,0===a&&(r.x=t.touches[a].clientX,r.y=t.touches[a].clientY);t.touches.length>0&&(r.avgX=i/t.touches.length,r.avgY=o/t.touches.length)}else n.pageX&&(r.touches.push({x:t.pageX,y:t.pageY}),r.x=t.pageX,r.y=t.pageY,r.avgX=t.pageX,r.avgY=t.pageY);return r},n.cancel=function(e){e._originalEvent.cancelBubble&&e._originalEvent.cancelBubble(),e._originalEvent.stopPropagation&&e._originalEvent.stopPropagation(),e._originalEvent.preventDefault?e._originalEvent.preventDefault():e._originalEvent.returnValue=!1},n.addListener=function(e,n,r){var i=t(n.toLowerCase());e.addEventListener(i,r,!1)},n.removeListener=function(e,n,r){var i=t(n.toLowerCase());e.removeEventListener(i,r)},n}),t("yasmf/ui/viewContainer",["yasmf/util/object","yasmf/util/h"],function(e,t){var n="ViewContainer",r=function(){var r=new e;return r.subclass(n),r.registerNotification("viewWasPushed"),r.registerNotification("viewWasPopped"),r.registerNotification("viewWillAppear"),r.registerNotification("viewWillDisappear"),r.registerNotification("viewDidAppear"),r.registerNotification("viewDidDisappear"),r._element=null,r._elementClass="ui-container",r._elementId=null,r._elementTag="div",r._parentElement=null,r.defineObservableProperty("title"),r.createElement=function(){r._element=document.createElement(r._elementTag),null!==r.elementClass&&(r._element.className=r.elementClass),null!==r.elementId&&(r._element.id=r.elementId)},r.createElementIfNotCreated=function(){null===r._element&&r.createElement()},r.getElement=function(){return r.createElementIfNotCreated(),r._element},r.defineProperty("element",{read:!0,write:!0,"default":null}),r.setElementClass=function(e){r._elementClass=e,null!==r._element&&(r._element.className=e)},r.defineProperty("elementClass",{read:!0,write:!0,"default":"ui-container"}),r.setElementId=function(e){r._elementId=e,null!==r._element&&(r._element.id=e)},r.defineProperty("elementId",{read:!0,write:!0,"default":null}),r.defineProperty("elementTag",{read:!0,write:!0,"default":"div"}),r.setParentElement=function(e){null!==r._parentElement&&null!==r._element&&(r._parentElement.removeChild(r._element),r._parentElement=null),r._parentElement=e,null!==r._parentElement&&null!==r._element&&r._parentElement.appendChild(r._element)},r.defineProperty("parentElement",{read:!0,write:!0,"default":null}),r.render=function(){return"Error: Abstract Method"},r.renderToElement=function(){var e=r.render();"string"==typeof e?r.element.innerHTML=r.render():"object"==typeof e&&t.renderTo(e,r.element)},r.override(function(e,t,i,o){return r.super(n,"init"),"undefined"!=typeof e&&(r.elementId=e),"undefined"!=typeof t&&(r.elementTag=t),"undefined"!=typeof i&&(r.elementClass=i),r.renderToElement(),"undefined"!=typeof o&&(r.parentElement=o),r}),r.initWithOptions=function(e){var t,n,i,o;return"undefined"!=typeof e&&("undefined"!=typeof e.id&&(t=e.id),"undefined"!=typeof e.tag&&(n=e.tag),"undefined"!=typeof e.class&&(i=e.class),"undefined"!=typeof e.parent&&(o=e.parent)),r.init(t,n,i,o),"undefined"!=typeof e&&"undefined"!=typeof e.title&&(r.title=e.title),r},r.override(function(){null!==r._parentElement&&null!==r._element&&(r._parentElement.removeChild(r._element),r._parentElement=null),r.super(n,"destroy")}),r._autoInit.apply(r,arguments),r};return r}),t("yasmf/ui/navigationController",["yasmf/ui/core","yasmf/ui/viewContainer","yasmf/util/core"],function(e,t,n){var r="NavigationController",i=function(){var i=new t;return i.subclass(r),i.registerNotification("viewPushed"),i.registerNotification("viewPopped"),i.defineProperty("subviews",{read:!0,write:!1,"default":[]}),i.getTopView=function(){return i._subviews.length>0?i._subviews[i._subviews.length-1]:null},i.defineProperty("topView",{read:!0,write:!1,backingVariable:!1}),i.getRootView=function(){return i._subviews.length>0?i._subviews[0]:null},i.setRootView=function(e){if(i._subviews.length>0){for(var t=0;t<i._subviews.length;t++){var n=i._subviews[t];n.notify("viewWillDisappear"),0===t&&n.element.classList.remove("ui-root-view"),n.parentElement=null,n.notify("viewDidDisappear"),n.notify("viewWasPopped"),delete n.navigationController}i._subviews=[]}i._subviews.push(e),e.navigationController=i,e.notify("viewWasPushed"),e.notify("viewWillAppear"),e.parentElement=i.element,e.element.classList.add("ui-root-view"),e.notify("viewDidAppear")},i.defineProperty("rootView",{read:!0,write:!0,backingVariable:!1}),i.defineProperty("modal",{read:!0,write:!1,"default":!1}),i.defineProperty("modalView",{read:!0,write:!1,"default":null}),i.defineProperty("modalViewType",{read:!0,write:!1,"default":""}),i._modalClickPreventer=null,i._preventClicks=null,i._createClickPreventionElement=function(){i.createElementIfNotCreated(),i._preventClicks=document.createElement("div"),i._preventClicks.className="ui-prevent-clicks",i.element.appendChild(i._preventClicks)},i._createClickPreventionElementIfNotCreated=function(){null===i._preventClicks&&i._createClickPreventionElement()},i.pushView=function(t,n,r,o){var a=i.topView,s=t,l=!0,u=.3,c="ease-in-out";"undefined"!=typeof n&&(l=n),"undefined"!=typeof r&&(u=r),"undefined"!=typeof o&&(c=o),l||(u=0),i._subviews.push(s),s.navigationController=i,s.notify("viewWasPushed");var f=parseInt(getComputedStyle(a.element).getPropertyValue("z-index")||"0",10),d=parseInt(getComputedStyle(s.element).getPropertyValue("z-index")||"0",10);f>=d&&(d=f+10),e.styleElement(a.element,"transform","translate3d(0,0,"+f+"px)"),e.styleElement(s.element,"transform","translate3d(100%,0,"+d+"px)"),l?(e.styleElements([s.element,a.element],"transition","-webkit-transform "+u+"s "+c),e.styleElements([s.element,a.element],"transition","-moz-transform "+u+"s "+c),e.styleElements([s.element,a.element],"transition","-ms-transform "+u+"s "+c),e.styleElements([s.element,a.element],"transition","transform "+u+"s "+c),e.styleElements(a.element.querySelectorAll(".ui-navigation-bar *"),"transition","opacity "+u+"s "+c),e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"transition","opacity "+u+"s "+c),e.styleElements(a.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1"),e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"opacity","0")):(e.styleElements([s.element,a.element],"transition","inherit"),e.styleElements(a.element.querySelectorAll(".ui-navigation-bar *"),"transition","inherit"),e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"transition","inherit")),s.parentElement=i.element,i._preventClicks.style.display="block",setTimeout(function(){e.styleElement(a.element,"transform","translate3d(-50%,0,"+f+"px)"),e.styleElement(s.element,"transform","translate3d(0,0,"+d+"px)"),l&&(e.styleElements(a.element.querySelectorAll(".ui-navigation-bar *"),"opacity","0"),e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1")),a.notify("viewWillDisappear"),s.notify("viewWillAppear"),i.notify("viewPushed",[s]),setTimeout(function(){a.element.style.display="none",a.notify("viewDidDisappear"),s.notify("viewDidAppear"),i._preventClicks.style.display="none"},1e3*u)},50)},i.popView=function(t,n,r){var o=!0,a=.3,s="ease-in-out";if("undefined"!=typeof t&&(o=t),"undefined"!=typeof n&&(a=n),"undefined"!=typeof r&&(s=r),o||(a=0),!(i._subviews.length<=1)){var l=i._subviews.pop(),u=i.topView,c=parseInt(getComputedStyle(l.element).getPropertyValue("z-index")||"0",10),f=parseInt(getComputedStyle(u.element).getPropertyValue("z-index")||"0",10);f>=c&&(c=f+10),u.element.style.display="inherit",e.styleElements([l.element,u.element],"transition","inherit"),e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"transition","inherit"),e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"transition","inherit"),e.styleElement(u.element,"transform","translate3d(-50%,0,"+f+"px)"),e.styleElement(l.element,"transform","translate3d(0,0,"+c+"px"),o?(e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"opacity","0"),e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1")):(e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1"),e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1")),o&&(e.styleElements([l.element,u.element],"transition","-webkit-transform "+a+"s "+s),e.styleElements([l.element,u.element],"transition","-moz-transform "+a+"s "+s),e.styleElements([l.element,u.element],"transition","-ms-transform "+a+"s "+s),e.styleElements([l.element,u.element],"transition","transform "+a+"s "+s),e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"transition","opacity "+a+"s "+s),e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"transition","opacity "+a+"s "+s)),i._preventClicks.style.display="block",setTimeout(function(){e.styleElement(u.element,"transform","translate3d(0,0,"+f+"px)"),e.styleElement(l.element,"transform","translate3d(100%,0,"+c+"px)"),o&&(e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"opacity","0"),e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1")),l.notify("viewWillDisappear"),u.notify("viewWillAppear"),setTimeout(function(){l.notify("viewDidDisappear"),l.notify("viewWasPopped"),u.notify("viewDidAppear"),i.notify("viewPopped",[l]),i._preventClicks.style.display="none",l.parentElement=null,delete l.navigationController},1e3*a)},50)}},i.presentModalController=function(t,r){var o={displayType:"modalWindow",withAnimation:!0,withDelay:.3,withTimingFunction:"ease-in-out"};"undefined"!=typeof r&&("undefined"!=typeof r.displayType&&(o.displayType=r.displayType),"undefined"!=typeof r.withAnimation&&(o.withAnimation=r.withAnimation),"undefined"!=typeof r.withDelay&&(o.withDelay=r.withDelay),"undefined"!=typeof r.withTimingFunction&&(o.withTimingFunction=r.withTimingFunction)),o.withAnimation||(o.withDelay=0),document.body.classList.contains("phone")&&(o.displayType="modalFill"),i._modalView=t,i._modal=!0,i._modalViewType=o.displayType,i._modalClickPreventer=document.createElement("div"),i._modalClickPreventer.className="ui-container ui-transparent";var a=parseInt(getComputedStyle(t).getPropertyValue("z-index")||"0",10),s=parseInt(getComputedStyle(i.element).getPropertyValue("z-index")||"0",10);a>=s&&(s=a+10),i.element.$s("transform",n.template("translate3d(%X%,%Y%,%Z%)",{x:"0",y:"150%",z:""+s+"px"})),i.element.classList.add(o.displayType),i._modalClickPreventer.appendChild(i.element),t.parentNode.appendChild(i._modalClickPreventer),i.emit("viewWasPushed"),i.emit("viewWillAppear"),setTimeout(function(){t.classList.add("ui-disabled"),e.beginAnimation(t).setTiming(o.withDelay).setTimingFunction(o.withTimingFunction).scale("0.9").opacity("0.9").endAnimation(),e.beginAnimation(i.element).setTiming(o.withDelay).setTimingFunction(o.withTimingFunction).translate3d("0","0",""+s+"px").endAnimation(function(){i.emit("viewDidAppear")})},50)},i.dismissModalController=function(t){var n={withAnimation:!0,withDelay:.3,withTimingFunction:"ease-in-out"};"undefined"!=typeof t&&("undefined"!=typeof t.withAnimation&&(n.withAnimation=t.withAnimation),"undefined"!=typeof t.withDelay&&(n.withDelay=t.withDelay),"undefined"!=typeof t.withTimingFunction&&(n.withTimingFunction=t.withTimingFunction)),n.withAnimation||(n.withDelay=0);var r=parseInt(getComputedStyle(i.modalView).getPropertyValue("z-index")||"0",10),o=parseInt(getComputedStyle(i.element).getPropertyValue("z-index")||"0",10);r>=o&&(o=r+10),i.emit("viewWillDisappear"),setTimeout(function(){i.modalView.classList.remove("ui-disabled"),e.beginAnimation(i.modalView).setTiming(n.withDelay).setTimingFunction(n.withTimingFunction).scale("1").opacity("1").endAnimation(),e.beginAnimation(i.element).setTiming(n.withDelay).setTimingFunction(n.withTimingFunction).translate3d("0","150%",""+o+"px").endAnimation(function(){i.emit("viewDidDisappear"),i.emit("viewWasPopped"),i.element.classList.remove(i.modalViewType),i._modalClickPreventer.parentNode.removeChild(i._modalClickPreventer),i._modalClickPreventer.removeChild(i.element),i.modal=!1,i._modalView=null,i._modalViewType="",i._modalClickPreventer=null})},50)},i.override(function(){return""}),i.override(function(){i.createElementIfNotCreated(),i._createClickPreventionElementIfNotCreated()}),i.override(function(e,t,n,o,a){if("undefined"==typeof e)throw new Error("Can't initialize a navigation controller without a root view.");return i.super(r,"init",[t,n,o,a]),i.rootView=e,i}),i.override(function(e){var t,n,r,o,a;return"undefined"!=typeof e&&("undefined"!=typeof e.id&&(n=e.id),"undefined"!=typeof e.tag&&(r=e.tag),"undefined"!=typeof e.class&&(o=e.class),"undefined"!=typeof e.parent&&(a=e.parent),"undefined"!=typeof e.rootView&&(t=e.rootView)),i.init(t,n,r,o,a)}),i._autoInit.apply(i,arguments),i};return i}),t("yasmf/ui/splitViewController",["yasmf/ui/core","yasmf/ui/viewContainer"],function(e,t){var n="SplitViewController",r=function(){var e=new t;return e.subclass(n),e.registerNotification("viewsChanged"),e._preventClicks=null,e._createClickPreventionElement=function(){e.createElementIfNotCreated(),e._preventClicks=document.createElement("div"),e._preventClicks.className="ui-prevent-clicks",e.element.appendChild(e._preventClicks)},e._createClickPreventionElementIfNotCreated=function(){null===e._preventClicks&&e._createClickPreventionElement()},e.setViewType=function(t){e.element.classList.remove("ui-"+e._viewType+"-view"),e._viewType=t,e.element.classList.add("ui-"+t+"-view"),e.leftViewStatus="invisible"},e.defineProperty("viewType",{read:!0,write:!0,"default":"split"}),e.setLeftViewStatus=function(t){e._preventClicks.style.display="block",e.element.classList.remove("ui-left-side-"+e._leftViewStatus),e._leftViewStatus=t,e.element.classList.add("ui-left-side-"+t),setTimeout(function(){e._preventClicks.style.display="none"},600)},e.defineProperty("leftViewStatus",{read:!0,write:!0,"default":"invisible"}),e.toggleLeftView=function(){e.leftViewStatus="visible"===e.leftViewStatus?"invisible":"visible"},e.defineProperty("subviews",{read:!0,write:!1,"default":[null,null]}),e._leftElement=null,e._rightElement=null,e._createElements=function(){null!==e._leftElement&&e.element.removeChild(e._leftElement),null!==e._rightElement&&e.element.removeChild(e._rightElement),e._leftElement=document.createElement("div"),e._rightElement=document.createElement("div"),e._leftElement.className="ui-container left-side",e._rightElement.className="ui-container right-side",e.element.appendChild(e._leftElement),e.element.appendChild(e._rightElement)},e._createElementsIfNecessary=function(){(null===e._leftElement||null===e._rightElement)&&e._createElements()},e._assignViewToSide=function(t,n){e._createElementsIfNecessary(),n.splitViewController=e,n.notify("viewWasPushed"),n.notify("viewWillAppear"),n.parentElement=t,n.notify("viewDidAppear")},e._unparentSide=function(t){if(e._subviews.length>=t){var n=e._subviews[t];null!==n&&(n.notify("viewWillDisappear"),n.parentElement=null,n.notify("viewDidDisappear"),n.notify("viewWasPopped"),delete n.splitViewController)}},e.getLeftView=function(){return e._subviews.length>0?e._subviews[0]:null},e.setLeftView=function(t){e._unparentSide(0),e._subviews.length>0?e._subviews[0]=t:e._subviews.push(t),e._assignViewToSide(e._leftElement,t),e.notify("viewsChanged")},e.defineProperty("leftView",{read:!0,write:!0,backingVariable:!1}),e.getRightView=function(){return e._subviews.length>1?e._subviews[1]:null},e.setRightView=function(t){e._unparentSide(1),e._subviews.length>1?e._subviews[1]=t:e._subviews.push(t),e._assignViewToSide(e._rightElement,t),e.notify("viewsChanged")},e.defineProperty("rightView",{read:!0,write:!0,backingVariable:!1}),e.override(function(){return""}),e.override(function(){e._createElementsIfNecessary(),e._createClickPreventionElementIfNotCreated()}),e.override(function(t,r,i,o,a,s){if("undefined"==typeof t)throw new Error("Can't initialize a navigation controller without a left view.");if("undefined"==typeof r)throw new Error("Can't initialize a navigation controller without a right view.");return e.super(n,"init",[i,o,a,s]),e.leftView=t,e.rightView=r,e}),e.override(function(t){var n,r,i,o,a,s;return"undefined"!=typeof t&&("undefined"!=typeof t.id&&(i=t.id),"undefined"!=typeof t.tag&&(o=t.tag),"undefined"!=typeof t.class&&(a=t.class),"undefined"!=typeof t.parent&&(s=t.parent),"undefined"!=typeof t.leftView&&(n=t.leftView),"undefined"!=typeof t.rightView&&(r=t.rightView)),e.init(n,r,i,o,a,s),"undefined"!=typeof t&&("undefined"!=typeof t.viewType&&(e.viewType=t.viewType),"undefined"!=typeof t.leftViewStatus&&(e.leftViewStatus=t.leftViewStatus)),e}),e.override(function(){e._unparentSide(0),e._unparentSide(1),null!==e._leftElement&&e.element.removeChild(e._leftElement),null!==e._rightElement&&e.element.removeChild(e._rightElement),e._leftElement=null,e._rightElement=null,e.super(n,"destroy")}),e._autoInit.apply(e,arguments),e};return r}),t("yasmf/ui/tabViewController",["yasmf/ui/core","yasmf/ui/viewContainer","yasmf/ui/event"],function(e,t,n){var r="TabViewController",i=function(){var e=new t;return e.subclass(r),e.registerNotification("viewsChanged"),e._tabElements=[],e._tabBarElement=null,e._barButtonGroup=null,e._viewContainer=null,e._createTabBarElement=function(){e._tabBarElement=document.createElement("div"),e._tabBarElement.className="ui-tab-bar ui-tab-default-position",e._barButtonGroup=document.createElement("div"),e._barButtonGroup.className="ui-bar-button-group ui-align-center",e._tabBarElement.appendChild(e._barButtonGroup)},e._createTabBarElementIfNecessary=function(){null===e._tabBarElement&&e._createTabBarElement()},e._createViewContainer=function(){e._viewContainer=document.createElement("div"),e._viewContainer.className="ui-container ui-avoid-tab-bar ui-tab-default-position"},e._createViewContainerIfNecessary=function(){null===e._viewContainer&&e._createViewContainer()},e._createElements=function(){e._createTabBarElementIfNecessary(),e._createViewContainerIfNecessary(),e.element.appendChild(e._tabBarElement),e.element.appendChild(e._viewContainer)},e._createElementsIfNecessary=function(){null===e._tabBarElement&&null===e._viewContainer&&e._createElements()},e._createTabElement=function(t,r){var i=document.createElement("div");return i.className="ui-bar-button ui-tint-color",i.innerHTML=t.title,i.setAttribute("data-tag",r),n.addListener(i,"touchstart",function(){e.selectedTab=parseInt(this.getAttribute("data-tag"),10)}),i},e.setObservableBarPosition=function(t,n){return e._createElementsIfNecessary(),e._tabBarElement.classList.remove("ui-tab-"+n+"-position"),e._tabBarElement.classList.add("ui-tab-"+t+"-position"),e._viewContainer.classList.remove("ui-tab-"+n+"-position"),e._viewContainer.classList.add("ui-tab-"+t+"-position"),t},e.defineObservableProperty("barPosition",{"default":"default"}),e.setObservableBarAlignment=function(t,n){return e._createElementsIfNecessary(),e._barButtonGroup.classList.remove("ui-align-"+n),e._barButtonGroup.classList.add("ui-align-"+t),t},e.defineObservableProperty("barAlignment",{"default":"center"}),e.defineProperty("subviews",{read:!0,write:!1,"default":[]}),e.addSubview=function(t){e._createElementsIfNecessary();var n=e._createTabElement(t,e._tabElements.length);e._barButtonGroup.appendChild(n),e._tabElements.push(n),e._subviews.push(t),t.tabViewController=e,t.notify("viewWasPushed")},e.removeSubview=function(t){e._createElementsIfNecessary();var n=e._subviews.indexOf(t);if(n>-1){var r=e._subviews[n],i=r.parentElement;null!==i&&r.notify("viewWillDisappear"),r.parentElement=null,null!==i&&r.notify("viewDidDisappear"),e._subviews.splice(n,1),e._barButtonGroup.removeChild(e._tabElements[n]),e._tabElements.splice(n,1);var o=e.selectedTab;o>n&&o--,o>e._tabElements.length&&(o=e._tabElements.length),e.selectedTab=o}t.notify("viewWasPopped"),delete t.tabViewController},e.setObservableSelectedTab=function(t,n){var r,i;return e._createElementsIfNecessary(),n>-1?(r=e._subviews[n],t>-1&&(i=e._subviews[t]),r.notify("viewWillDisappear"),t>-1&&i.notify("viewWillAppear"),r.parentElement=null,t>-1&&(e._subviews[t].parentElement=e._viewContainer),r.notify("viewDidDisappear"),t>-1&&i.notify("viewDidAppear")):(i=e._subviews[t],i.notify("viewWillAppear"),e._subviews[t].parentElement=e._viewContainer,i.notify("viewDidAppear")),t},e.defineObservableProperty("selectedTab",{"default":-1,notifyAlways:!0}),e.override(function(){return""}),e.override(function(){e._createElementsIfNecessary()}),e.override(function(t,n,i,o){return e.super(r,"init",[t,n,i,o]),e}),e.override(function(t){var n,r,i,o;return"undefined"!=typeof t&&("undefined"!=typeof t.id&&(n=t.id),"undefined"!=typeof t.tag&&(r=t.tag),"undefined"!=typeof t.class&&(i=t.class),"undefined"!=typeof t.parent&&(o=t.parent)),e.init(n,r,i,o),"undefined"!=typeof t&&("undefined"!=typeof t.barPosition&&(e.barPosition=t.barPosition),"undefined"!=typeof t.barAlignment&&(e.barAlignment=t.barAlignment)),e}),e._autoInit.apply(e,arguments),e};return i.BAR_POSITION={"default":"default",top:"top",bottom:"bottom"},i.BAR_ALIGNMENT={center:"center",left:"left",right:"right"},i}),t("yasmf/ui/alert",["yasmf/util/core","yasmf/util/device","yasmf/util/object","yasmf/ui/core","Q","yasmf/ui/event","yasmf/util/h"],function(e,t,n,r,i,o,a){var s="Alert",l=function(){var t=new n;return t.subclass(s),t.registerNotification("buttonTapped"),t.registerNotification("dismissed"),t._titleElement=null,t.setTitle=function(e){t._title=e,null!==t._titleElement&&("undefined"!=typeof t._titleElement.textContent?t._titleElement.textContent=e:t._titleElement.innerHTML=e)},t.defineProperty("title",{read:!0,write:!0,"default":e.T("ALERT")}),t._textElement=null,t.setText=function(e){t._text=e,null!==t._textElement&&("object"!=typeof e?"undefined"!=typeof t._textElement.textContent?t._textElement.textContent=(""+e).replace(/\<br\w*\/\>/g,"\r\n"):t._textElement.innerHTML=e:a.renderTo(e,t._textElement,0))},t.defineProperty("text",{read:!0,write:!0}),t._buttons=[],t._buttonContainer=null,t.defineProperty("wideButtons",{"default":"auto"}),t.setButtons=function(e){function n(e){void 0!==e.touches?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.moved=!1}function r(e){var t=void 0!==e.touches?e.touches[0].clientX:e.clientX,n=void 0!==e.touches?e.touches[0].clientY:e.clientY,r=Math.abs(this.startX-t),i=Math.abs(this.startY-n);console.log(r,i),(r>20||i>20)&&(this.moved=!0)}function i(e){return function(n){n.preventDefault(),this.moved||t.dismiss(e)}}var a;if(null!==t._buttonContainer)for(a=0;a<t._buttons.length;a++)t._buttonContainer.removeChild(t._buttons[a].element);t._buttons=e;var s=!1;if(s="auto"===t.wideButtons?!(t._buttons.length>=2&&t._buttons.length<=3):t.wideButtons,s&&t._buttonContainer.classList.add("wide"),null!==t._buttonContainer)for(a=0;a<t._buttons.length;a++){var l=document.createElement("div"),u=t._buttons[a];null===u.tag&&(u.tag=a),l.className="ui-alert-button "+u.type+" "+(s?"wide":""),l.innerHTML=u.title,s||(l.style.width=""+100/t._buttons.length+"%"),Hammer?Hammer(l).on("tap",i(a)):(o.addListener(l,"touchstart",n),o.addListener(l,"touchmove",r),o.addListener(l,"touchend",i(a))),u.element=l,t._buttonContainer.appendChild(u.element)}},t.defineProperty("buttons",{read:!0,write:!0,"default":[]}),t._rootElement=null,t._alertElement=null,t._vaElement=null,t._deferred=null,t.defineProperty("usePromise",{read:!0,write:!1,"default":!1}),t.defineProperty("visible",{read:!0,write:!1,"default":!1}),t._createElements=function(){t._rootElement=document.createElement("div"),t._rootElement.className="ui-alert-container",t._vaElement=document.createElement("div"),t._vaElement.className="ui-alert-vertical-align",t._alertElement=document.createElement("div"),t._alertElement.className="ui-alert",t._titleElement=document.createElement("div"),t._titleElement.className="ui-alert-title",t._textElement=document.createElement("div"),t._textElement.className="ui-alert-text",t._buttonContainer=document.createElement("div"),t._buttonContainer.className="ui-alert-button-container",t._alertElement.appendChild(t._titleElement),t._alertElement.appendChild(t._textElement),t._alertElement.appendChild(t._buttonContainer),t._vaElement.appendChild(t._alertElement),t._rootElement.appendChild(t._vaElement)},t.backButtonPressed=function(){t.dismiss(-1)},t.hide=function(){t.dismiss(-1)},t.show=function(){return t.visible?t.usePromise&&null!==t._deferred?t._deferred:void 0:(r.backButton.addListenerForNotification("backButtonPressed",t.backButtonPressed),document.body.appendChild(t._rootElement),r.styleElement(t._alertElement,"transform","scale3d(2.00, 2.00,1)"),setTimeout(function(){t._rootElement.style.opacity="1",t._alertElement.style.opacity="1",r.styleElement(t._alertElement,"transform","scale3d(1.00, 1.00,1)")},10),t._visible=!0,t.usePromise?(t._deferred=i.defer(),t._deferred.promise):void 0)},t.dismiss=function(e){if(t.visible){r.backButton.removeListenerForNotification("backButtonPressed",t.backButtonPressed),setTimeout(function(){t._rootElement.style.opacity="0",r.styleElement(t._alertElement,"transform","scale3d(0.75, 0.75,1)")},10),setTimeout(function(){document.body.removeChild(t._rootElement)},610);var n=-1;e>-1&&e<t._buttons.length&&(n=t._buttons[e].tag),t.notify("dismissed"),t.notify("buttonTapped",[n]),t._visible=!1,t.usePromise&&(n>-1?t._deferred.resolve(n):t._deferred.reject(new Error(n)))}},t.override(function(){return t.super(s,"init"),t._createElements(),t}),t.override(function(e){return t.init(),"undefined"!=typeof e&&("undefined"!=typeof e.title&&(t.title=e.title),"undefined"!=typeof e.text&&(t.text=e.text),"undefined"!=typeof e.wideButtons&&(t.wideButtons=e.wideButtons),"undefined"!=typeof e.buttons&&(t.buttons=e.buttons),"undefined"!=typeof e.promise&&(t._usePromise=e.promise)),t}),t.overrideSuper(t.class,"destroy",t.destroy),t.destroy=function l(){return t.visible?(t.hide(),void setTimeout(l,600)):(t._rootElement=null,t._vaElement=null,t._alertElement=null,t._titleElement=null,t._textElement=null,t._buttonContainer=null,void t.super(s,"destroy"))},t._autoInit.apply(t,arguments),t};return l.button=function(e,t){var n={};return n.title=e,n.type="normal",n.tag=null,n.enabled=!0,n.element=null,"undefined"!=typeof t&&("undefined"!=typeof t.type&&(n.type=t.type),"undefined"!=typeof t.tag&&(n.tag=t.tag),"undefined"!=typeof t.enabled&&(n.enabled=t.enabled)),n},l.OK=function(t){var n=new l,r={title:e.T("OK"),text:"",buttons:[l.button(e.T("OK"),{type:"bold"})]};return"undefined"!=typeof t&&("undefined"!=typeof t.title&&(r.title=t.title),"undefined"!=typeof t.text&&(r.text=t.text),"undefined"!=typeof t.promise&&(r.promise=t.promise)),n.initWithOptions(r),n},l.Confirm=function(t){var n=new l,r={title:e.T("Confirm"),text:"",buttons:[l.button(e.T("OK")),l.button(e.T("Cancel"),{type:"bold",tag:-1})]};return"undefined"!=typeof t&&("undefined"!=typeof t.title&&(r.title=t.title),"undefined"!=typeof t.text&&(r.text=t.text),"undefined"!=typeof t.promise&&(r.promise=t.promise)),n.initWithOptions(r),n},l}),t("yasmf/ui/spinner",["yasmf/util/core","yasmf/util/object","yasmf/ui/core","yasmf/util/h"],function(e,t,n,r){function i(){var e=new t;return e.subclass(o),e._element=null,e.defineObservableProperty("text"),e.defineProperty("visible",{"default":!1}),e.setObservableTintedBackground=function(t){return t?e._element.classList.add("obscure-background"):e._element.classList.remove("obscure-background"),t},e.defineObservableProperty("tintedBackground",{"default":!1}),e.show=function(){e.visible||(n._rootContainer.parentNode.appendChild(e._element),e.visible=!0,setTimeout(function(){e._element.style.opacity="1"},0))},e.hide=function(t){e.visible&&(e._element.style.opacity="0",e.visible=!1,setTimeout(function(){n._rootContainer.parentNode.removeChild(e._element),"function"==typeof t&&setTimeout(t,0)},250))},e.override(function(){return e.super(o,"init"),e._element=r.el("div.ui-spinner-outer-container",r.el("div.ui-spinner-inner-container",[r.el("div.ui-spinner-inner-spinner"),r.el("div.ui-spinner-inner-text",{bind:{object:e,keyPath:"text"}})])),e}),e.initWithOptions=function(t){return e.init(),e.text=t.text,e.tintedBackground=void 0!==t.tintedBackground?t.tintedBackground:!1,e},e.override(function(){e.visible&&(n._rootContainer.parentNode.removeChild(e._element),e.visible=!1),e._element=null,e.super(o,"destroy")}),e._autoInit.apply(e,arguments),e}var o="Spinner";return i}),t("yasmf",["require","yasmf/util/core","yasmf/util/datetime","yasmf/util/filename","yasmf/util/misc","yasmf/util/device","yasmf/util/object","yasmf/util/fileManager","yasmf/util/h","yasmf/util/router","yasmf/ui/core","yasmf/ui/event","yasmf/ui/viewContainer","yasmf/ui/navigationController","yasmf/ui/splitViewController","yasmf/ui/tabViewController","yasmf/ui/alert","yasmf/ui/spinner"],function(e){var t=e("yasmf/util/core");return t.datetime=e("yasmf/util/datetime"),t.filename=e("yasmf/util/filename"),t.misc=e("yasmf/util/misc"),t.device=e("yasmf/util/device"),t.BaseObject=e("yasmf/util/object"),t.FileManager=e("yasmf/util/fileManager"),t.h=e("yasmf/util/h"),t.Router=e("yasmf/util/router"),t.UI=e("yasmf/ui/core"),t.UI.event=e("yasmf/ui/event"),t.UI.ViewContainer=e("yasmf/ui/viewContainer"),t.UI.NavigationController=e("yasmf/ui/navigationController"),t.UI.SplitViewController=e("yasmf/ui/splitViewController"),t.UI.TabViewController=e("yasmf/ui/tabViewController"),t.UI.Alert=e("yasmf/ui/alert"),t.UI.Spinner=e("yasmf/ui/spinner"),t
});var o=r("yasmf");"undefined"!=typeof module&&module.exports?module.exports=o:i?!function(e){e(function(){return o})}(i):e._y=o}(this);